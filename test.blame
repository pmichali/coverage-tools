05713dd328e060f6d9ef2da383171eb6007e94f2 1 1 19
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	# Copyright 2013 OpenStack Foundation
05713dd328e060f6d9ef2da383171eb6007e94f2 2 2
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	# All rights reserved.
05713dd328e060f6d9ef2da383171eb6007e94f2 3 3
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	#
05713dd328e060f6d9ef2da383171eb6007e94f2 4 4
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	#    Licensed under the Apache License, Version 2.0 (the "License"); you may
05713dd328e060f6d9ef2da383171eb6007e94f2 5 5
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	#    not use this file except in compliance with the License. You may obtain
05713dd328e060f6d9ef2da383171eb6007e94f2 6 6
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	#    a copy of the License at
05713dd328e060f6d9ef2da383171eb6007e94f2 7 7
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	#
05713dd328e060f6d9ef2da383171eb6007e94f2 8 8
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	#         http://www.apache.org/licenses/LICENSE-2.0
05713dd328e060f6d9ef2da383171eb6007e94f2 9 9
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	#
05713dd328e060f6d9ef2da383171eb6007e94f2 10 10
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	#    Unless required by applicable law or agreed to in writing, software
05713dd328e060f6d9ef2da383171eb6007e94f2 11 11
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	#    distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
05713dd328e060f6d9ef2da383171eb6007e94f2 12 12
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	#    WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
05713dd328e060f6d9ef2da383171eb6007e94f2 13 13
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	#    License for the specific language governing permissions and limitations
05713dd328e060f6d9ef2da383171eb6007e94f2 14 14
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	#    under the License.
05713dd328e060f6d9ef2da383171eb6007e94f2 15 15
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
05713dd328e060f6d9ef2da383171eb6007e94f2 16 16
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	"""
05713dd328e060f6d9ef2da383171eb6007e94f2 17 17
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	ML2 Mechanism Driver for Cisco Nexus platforms.
05713dd328e060f6d9ef2da383171eb6007e94f2 18 18
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	"""
05713dd328e060f6d9ef2da383171eb6007e94f2 19 19
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
347073a248ecd844f259c6ef821c5cc27d1b07d1 20 20 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1433530814
author-tz -0400
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1433935031
committer-tz +0000
summary ML2 cisco_nexus MD: Config hangs when replay enabled
previous 2814776d57e0e884e0ad8a0204b5bb49d6abd4c8 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	import eventlet
7d37c15e8fc0e20ad9e3b0606d7a2fc534bfdd4a 21 21 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1434821907
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1434823725
committer-tz -0400
summary ML2 cisco_nexus MD: Multiprocess replay issue
previous 37565825675804fe76ba2cb37a871aa78866df69 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	import os
65491efbd9ea0843c00cb50ff4c89211862924de 20 22 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	import threading
6df65927938b27e014042e4bebb3381a02ec19b5 23 23 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	import time
65491efbd9ea0843c00cb50ff4c89211862924de 21 24 2
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 22 25
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	from oslo_concurrency import lockutils
8385539695310817ee9a45b4432704ac426cf7b3 20 26 1
author Sam Betts
author-mail <sam@code-smash.net>
author-time 1423571990
author-tz +0000
committer Sam Betts
committer-mail <sam@code-smash.net>
committer-time 1423572407
committer-tz +0000
summary Change Oslo imports to new system
previous 714c47d09b517ed8a09158694528f49f99862ec0 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	from oslo_config import cfg
7bd03f853a734ff22b5dac6e0f5543fc2b2e3d88 21 27 1
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1426222377
author-tz -0400
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1426224625
committer-tz +0000
summary Migrate to oslo.log
previous aaa0715c55c95adaaabca2c04e96011540fa3ae5 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	from oslo_log import log as logging
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 28 28 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	from oslo_serialization import jsonutils
6df65927938b27e014042e4bebb3381a02ec19b5 28 29 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	from oslo_utils import excutils
d4025b99b1194af7fc7868852548326570ab2bfd 27 30 1
author Sam Betts
author-mail <sam@code-smash.net>
author-time 1422973108
author-tz +0000
committer Sam Betts
committer-mail <sam@code-smash.net>
committer-time 1423590713
committer-tz +0000
summary Change ml2 nexus imports to networking_cisco
previous 8385539695310817ee9a45b4432704ac426cf7b3 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
4c637f5040c55126d18e66a4effd36b20382ff90 31 31 1
author Paul Michali
author-mail <pc@michali.net>
author-time 1454345003
author-tz +0000
committer Sam Betts
committer-mail <sam@code-smash.net>
committer-time 1455273980
committer-tz +0000
summary Change import exclusions in tox.ini and update imports
previous f3fa6b8744b6def33ff85ef1a210c893891aaea6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	from networking_cisco._i18n import _LE, _LI, _LW
412c8625a20f7597b7b6e9473538df731ce26590 33 32 8
author Sam Betts
author-mail <sam@code-smash.net>
author-time 1450275976
author-tz +0000
committer Sam Betts
committer-mail <sam@code-smash.net>
committer-time 1452786673
committer-tz +0000
summary Use neutron._i18n instead of neutron.i18n
previous b17481a4918713dd4f1e35b02377cb9951f56ef8 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
412c8625a20f7597b7b6e9473538df731ce26590 34 33
author Sam Betts
author-mail <sam@code-smash.net>
author-time 1450275976
author-tz +0000
committer Sam Betts
committer-mail <sam@code-smash.net>
committer-time 1452786673
committer-tz +0000
summary Use neutron._i18n instead of neutron.i18n
previous b17481a4918713dd4f1e35b02377cb9951f56ef8 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	from neutron.common import constants as n_const
412c8625a20f7597b7b6e9473538df731ce26590 35 34
author Sam Betts
author-mail <sam@code-smash.net>
author-time 1450275976
author-tz +0000
committer Sam Betts
committer-mail <sam@code-smash.net>
committer-time 1452786673
committer-tz +0000
summary Use neutron._i18n instead of neutron.i18n
previous b17481a4918713dd4f1e35b02377cb9951f56ef8 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	from neutron.db import api as db_api
412c8625a20f7597b7b6e9473538df731ce26590 36 35
author Sam Betts
author-mail <sam@code-smash.net>
author-time 1450275976
author-tz +0000
committer Sam Betts
committer-mail <sam@code-smash.net>
committer-time 1452786673
committer-tz +0000
summary Use neutron._i18n instead of neutron.i18n
previous b17481a4918713dd4f1e35b02377cb9951f56ef8 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	from neutron.extensions import portbindings
412c8625a20f7597b7b6e9473538df731ce26590 37 36
author Sam Betts
author-mail <sam@code-smash.net>
author-time 1450275976
author-tz +0000
committer Sam Betts
committer-mail <sam@code-smash.net>
committer-time 1452786673
committer-tz +0000
summary Use neutron._i18n instead of neutron.i18n
previous b17481a4918713dd4f1e35b02377cb9951f56ef8 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	from neutron.plugins.common import constants as p_const
412c8625a20f7597b7b6e9473538df731ce26590 38 37
author Sam Betts
author-mail <sam@code-smash.net>
author-time 1450275976
author-tz +0000
committer Sam Betts
committer-mail <sam@code-smash.net>
committer-time 1452786673
committer-tz +0000
summary Use neutron._i18n instead of neutron.i18n
previous b17481a4918713dd4f1e35b02377cb9951f56ef8 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	from neutron.plugins.ml2 import db as ml2_db
412c8625a20f7597b7b6e9473538df731ce26590 39 38
author Sam Betts
author-mail <sam@code-smash.net>
author-time 1450275976
author-tz +0000
committer Sam Betts
committer-mail <sam@code-smash.net>
committer-time 1452786673
committer-tz +0000
summary Use neutron._i18n instead of neutron.i18n
previous b17481a4918713dd4f1e35b02377cb9951f56ef8 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	from neutron.plugins.ml2 import driver_api as api
412c8625a20f7597b7b6e9473538df731ce26590 40 39
author Sam Betts
author-mail <sam@code-smash.net>
author-time 1450275976
author-tz +0000
committer Sam Betts
committer-mail <sam@code-smash.net>
committer-time 1452786673
committer-tz +0000
summary Use neutron._i18n instead of neutron.i18n
previous b17481a4918713dd4f1e35b02377cb9951f56ef8 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
d4025b99b1194af7fc7868852548326570ab2bfd 28 40 3
author Sam Betts
author-mail <sam@code-smash.net>
author-time 1422973108
author-tz +0000
committer Sam Betts
committer-mail <sam@code-smash.net>
committer-time 1423590713
committer-tz +0000
summary Change ml2 nexus imports to networking_cisco
previous 8385539695310817ee9a45b4432704ac426cf7b3 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	from networking_cisco.plugins.ml2.drivers.cisco.nexus import (
d4025b99b1194af7fc7868852548326570ab2bfd 29 41
author Sam Betts
author-mail <sam@code-smash.net>
author-time 1422973108
author-tz +0000
committer Sam Betts
committer-mail <sam@code-smash.net>
committer-time 1423590713
committer-tz +0000
summary Change ml2 nexus imports to networking_cisco
previous 8385539695310817ee9a45b4432704ac426cf7b3 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    config as conf)
d4025b99b1194af7fc7868852548326570ab2bfd 30 42
author Sam Betts
author-mail <sam@code-smash.net>
author-time 1422973108
author-tz +0000
committer Sam Betts
committer-mail <sam@code-smash.net>
committer-time 1423590713
committer-tz +0000
summary Change ml2 nexus imports to networking_cisco
previous 8385539695310817ee9a45b4432704ac426cf7b3 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	from networking_cisco.plugins.ml2.drivers.cisco.nexus import (
65491efbd9ea0843c00cb50ff4c89211862924de 30 43 2
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    constants as const)
65491efbd9ea0843c00cb50ff4c89211862924de 31 44
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	from networking_cisco.plugins.ml2.drivers.cisco.nexus import (
d4025b99b1194af7fc7868852548326570ab2bfd 31 45 5
author Sam Betts
author-mail <sam@code-smash.net>
author-time 1422973108
author-tz +0000
committer Sam Betts
committer-mail <sam@code-smash.net>
committer-time 1423590713
committer-tz +0000
summary Change ml2 nexus imports to networking_cisco
previous 8385539695310817ee9a45b4432704ac426cf7b3 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    exceptions as excep)
d4025b99b1194af7fc7868852548326570ab2bfd 32 46
author Sam Betts
author-mail <sam@code-smash.net>
author-time 1422973108
author-tz +0000
committer Sam Betts
committer-mail <sam@code-smash.net>
committer-time 1423590713
committer-tz +0000
summary Change ml2 nexus imports to networking_cisco
previous 8385539695310817ee9a45b4432704ac426cf7b3 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	from networking_cisco.plugins.ml2.drivers.cisco.nexus import (
d4025b99b1194af7fc7868852548326570ab2bfd 33 47
author Sam Betts
author-mail <sam@code-smash.net>
author-time 1422973108
author-tz +0000
committer Sam Betts
committer-mail <sam@code-smash.net>
committer-time 1423590713
committer-tz +0000
summary Change ml2 nexus imports to networking_cisco
previous 8385539695310817ee9a45b4432704ac426cf7b3 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    nexus_db_v2 as nxos_db)
d4025b99b1194af7fc7868852548326570ab2bfd 34 48
author Sam Betts
author-mail <sam@code-smash.net>
author-time 1422973108
author-tz +0000
committer Sam Betts
committer-mail <sam@code-smash.net>
committer-time 1423590713
committer-tz +0000
summary Change ml2 nexus imports to networking_cisco
previous 8385539695310817ee9a45b4432704ac426cf7b3 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	from networking_cisco.plugins.ml2.drivers.cisco.nexus import (
d4025b99b1194af7fc7868852548326570ab2bfd 35 49
author Sam Betts
author-mail <sam@code-smash.net>
author-time 1422973108
author-tz +0000
committer Sam Betts
committer-mail <sam@code-smash.net>
committer-time 1423590713
committer-tz +0000
summary Change ml2 nexus imports to networking_cisco
previous 8385539695310817ee9a45b4432704ac426cf7b3 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    nexus_network_driver)
05713dd328e060f6d9ef2da383171eb6007e94f2 32 50 3
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
05713dd328e060f6d9ef2da383171eb6007e94f2 33 51
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	LOG = logging.getLogger(__name__)
05713dd328e060f6d9ef2da383171eb6007e94f2 34 52
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 48 53 2
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	HOST_NOT_FOUND = _LW("Host %s not defined in switch configuration section.")
65491efbd9ea0843c00cb50ff4c89211862924de 49 54
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
347073a248ecd844f259c6ef821c5cc27d1b07d1 51 55 6
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1433530814
author-tz -0400
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1433935031
committer-tz +0000
summary ML2 cisco_nexus MD: Config hangs when replay enabled
previous 2814776d57e0e884e0ad8a0204b5bb49d6abd4c8 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	# Delay the start of the monitor thread to avoid problems with Neutron server
347073a248ecd844f259c6ef821c5cc27d1b07d1 52 56
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1433530814
author-tz -0400
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1433935031
committer-tz +0000
summary ML2 cisco_nexus MD: Config hangs when replay enabled
previous 2814776d57e0e884e0ad8a0204b5bb49d6abd4c8 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	# process forking. One problem observed was ncclient RPC sync close_session
347073a248ecd844f259c6ef821c5cc27d1b07d1 53 57
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1433530814
author-tz -0400
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1433935031
committer-tz +0000
summary ML2 cisco_nexus MD: Config hangs when replay enabled
previous 2814776d57e0e884e0ad8a0204b5bb49d6abd4c8 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	# call hanging during initial _monitor_thread() processing to replay existing
347073a248ecd844f259c6ef821c5cc27d1b07d1 54 58
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1433530814
author-tz -0400
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1433935031
committer-tz +0000
summary ML2 cisco_nexus MD: Config hangs when replay enabled
previous 2814776d57e0e884e0ad8a0204b5bb49d6abd4c8 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	# database.
347073a248ecd844f259c6ef821c5cc27d1b07d1 55 59
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1433530814
author-tz -0400
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1433935031
committer-tz +0000
summary ML2 cisco_nexus MD: Config hangs when replay enabled
previous 2814776d57e0e884e0ad8a0204b5bb49d6abd4c8 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	DELAY_MONITOR_THREAD = 30
347073a248ecd844f259c6ef821c5cc27d1b07d1 56 60
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1433530814
author-tz -0400
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1433935031
committer-tz +0000
summary ML2 cisco_nexus MD: Config hangs when replay enabled
previous 2814776d57e0e884e0ad8a0204b5bb49d6abd4c8 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 50 61 2
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 51 62
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	class CiscoNexusCfgMonitor(object):
2a148b424a1f1b44e5adc4d61943eb907181ce4f 61 63 1
author KATO Tomoyuki
author-mail <kato.tomoyuki@jp.fujitsu.com>
author-time 1446791147
author-tz +0900
committer Sam Betts
committer-mail <sam@code-smash.net>
committer-time 1449572207
committer-tz +0000
summary Change capitalization of OpenStack
previous 51f4eb7fa7d34759a27280ca77213920fecc9469 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    """Replay config on communication failure between OpenStack to Nexus."""
65491efbd9ea0843c00cb50ff4c89211862924de 53 64 7
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 54 65
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def __init__(self, driver, mdriver):
65491efbd9ea0843c00cb50ff4c89211862924de 55 66
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        self._driver = driver
65491efbd9ea0843c00cb50ff4c89211862924de 56 67
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        self._mdriver = mdriver
65491efbd9ea0843c00cb50ff4c89211862924de 57 68
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        switch_connections = self._mdriver.get_switch_ips()
65491efbd9ea0843c00cb50ff4c89211862924de 58 69
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        for switch_ip in switch_connections:
65491efbd9ea0843c00cb50ff4c89211862924de 59 70
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            self._mdriver.set_switch_ip_and_active_state(
6df65927938b27e014042e4bebb3381a02ec19b5 69 71 7
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                switch_ip, const.SWITCH_INACTIVE)
6df65927938b27e014042e4bebb3381a02ec19b5 70 72
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            # this initialization occurs later for replay case
6df65927938b27e014042e4bebb3381a02ec19b5 71 73
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if not self._mdriver.is_replay_enabled():
6df65927938b27e014042e4bebb3381a02ec19b5 72 74
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                try:
6df65927938b27e014042e4bebb3381a02ec19b5 73 75
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    self._initialize_trunk_interfaces_to_none(switch_ip)
6df65927938b27e014042e4bebb3381a02ec19b5 74 76
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                except Exception:
6df65927938b27e014042e4bebb3381a02ec19b5 75 77
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    pass
65491efbd9ea0843c00cb50ff4c89211862924de 61 78 12
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 62 79
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _configure_nexus_type(self, switch_ip, nexus_type):
65491efbd9ea0843c00cb50ff4c89211862924de 63 80
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if nexus_type not in (const.NEXUS_3K, const.NEXUS_5K,
65491efbd9ea0843c00cb50ff4c89211862924de 64 81
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            const.NEXUS_7K, const.NEXUS_9K):
65491efbd9ea0843c00cb50ff4c89211862924de 65 82
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            LOG.error(_LE("Received invalid Nexus type %(nexus_type)d "
65491efbd9ea0843c00cb50ff4c89211862924de 66 83
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                "for switch ip %(switch_ip)s"),
65491efbd9ea0843c00cb50ff4c89211862924de 67 84
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                {'nexus_type': nexus_type, 'switch_ip': switch_ip})
65491efbd9ea0843c00cb50ff4c89211862924de 68 85
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return
65491efbd9ea0843c00cb50ff4c89211862924de 69 86
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if (self._mdriver.get_switch_nexus_type(switch_ip) ==
65491efbd9ea0843c00cb50ff4c89211862924de 70 87
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	           const.NEXUS_TYPE_INVALID):
65491efbd9ea0843c00cb50ff4c89211862924de 71 88
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            self._mdriver.set_switch_nexus_type(switch_ip, nexus_type)
65491efbd9ea0843c00cb50ff4c89211862924de 72 89
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 88 90 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _initialize_trunk_interfaces_to_none(self, switch_ip):
f1f13eedf62a7af4c1d3b132376e08551d5578b6 93 91 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Initialize all nexus interfaces to trunk allowed none."""
f1f13eedf62a7af4c1d3b132376e08551d5578b6 94 92
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 89 93 13
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        try:
6df65927938b27e014042e4bebb3381a02ec19b5 90 94
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            # The following determines if the switch interfaces are
6df65927938b27e014042e4bebb3381a02ec19b5 91 95
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            # in place.  If so, make sure they have a basic trunk
6df65927938b27e014042e4bebb3381a02ec19b5 92 96
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            # configuration applied to none.
6df65927938b27e014042e4bebb3381a02ec19b5 93 97
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            switch_ifs = self._mdriver._get_switch_interfaces(switch_ip)
6df65927938b27e014042e4bebb3381a02ec19b5 94 98
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if not switch_ifs:
6df65927938b27e014042e4bebb3381a02ec19b5 95 99
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                LOG.debug("Skipping switch %s which has no configured "
6df65927938b27e014042e4bebb3381a02ec19b5 96 100
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                          "interfaces",
6df65927938b27e014042e4bebb3381a02ec19b5 97 101
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                          switch_ip)
6df65927938b27e014042e4bebb3381a02ec19b5 98 102
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                return
6df65927938b27e014042e4bebb3381a02ec19b5 99 103
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            self._driver.initialize_all_switch_interfaces(switch_ifs)
6df65927938b27e014042e4bebb3381a02ec19b5 100 104
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        except Exception:
6df65927938b27e014042e4bebb3381a02ec19b5 101 105
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            with excutils.save_and_reraise_exception():
1b9a4558b9803ae777fcb0353993f5eb3de0bf06 106 106 1
author Yatin Kumbhare
author-mail <yatinkumbhare@gmail.com>
author-time 1451976490
author-tz +0530
committer Sam Betts
committer-mail <sam@code-smash.net>
committer-time 1455273996
committer-tz +0000
summary LOG.warn -> LOG.warning
previous f3fa6b8744b6def33ff85ef1a210c893891aaea6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                LOG.warning(_LW("Unable to initialize interfaces to "
6df65927938b27e014042e4bebb3381a02ec19b5 103 107 5
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                "switch %(switch_ip)s"),
6df65927938b27e014042e4bebb3381a02ec19b5 104 108
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                            {'switch_ip': switch_ip})
6df65927938b27e014042e4bebb3381a02ec19b5 105 109
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                self._mdriver.register_switch_as_inactive(switch_ip,
6df65927938b27e014042e4bebb3381a02ec19b5 106 110
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    'replay init_interface')
6df65927938b27e014042e4bebb3381a02ec19b5 107 111
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 112 112 5
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # Only baremetal transactions will have these Reserved
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 113 113
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # port entries.  If found, determine if there's a change
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 114 114
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # then change dependent port bindings.
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 115 115
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        for switch_ip, intf_type, port, is_native, ch_grp in switch_ifs:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 116 116
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            try:
f1f13eedf62a7af4c1d3b132376e08551d5578b6 119 117 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                reserved = nxos_db.get_reserved_port_binding(
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 120 118 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                switch_ip,
f1f13eedf62a7af4c1d3b132376e08551d5578b6 121 119 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                self._mdriver.format_interface_name(
f1f13eedf62a7af4c1d3b132376e08551d5578b6 122 120
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                    intf_type, port))
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 122 121 3
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            except excep.NexusPortBindingNotFound:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 123 122
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                continue
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 124 123
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if reserved[0].channel_group != ch_grp:
f1f13eedf62a7af4c1d3b132376e08551d5578b6 126 124 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                self._mdriver._change_baremetal_interfaces(
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 126 125 3
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    switch_ip, intf_type, port,
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 127 126
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    reserved[0].channel_group, ch_grp)
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 128 127
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 108 128 9
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # When replay not enabled, this is call early during initialization.
6df65927938b27e014042e4bebb3381a02ec19b5 109 129
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # To prevent bogus ssh handles from being copied to child processes,
6df65927938b27e014042e4bebb3381a02ec19b5 110 130
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # release the handles now.
6df65927938b27e014042e4bebb3381a02ec19b5 111 131
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if self._mdriver.is_replay_enabled():
6df65927938b27e014042e4bebb3381a02ec19b5 112 132
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return
6df65927938b27e014042e4bebb3381a02ec19b5 113 133
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        try:
6df65927938b27e014042e4bebb3381a02ec19b5 114 134
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                mgr = self._driver.nxos_connect(switch_ip)
6df65927938b27e014042e4bebb3381a02ec19b5 115 135
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                self._driver._close_session(mgr, switch_ip)
6df65927938b27e014042e4bebb3381a02ec19b5 116 136
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        except Exception:
1b9a4558b9803ae777fcb0353993f5eb3de0bf06 138 137 3
author Yatin Kumbhare
author-mail <yatinkumbhare@gmail.com>
author-time 1451976490
author-tz +0530
committer Sam Betts
committer-mail <sam@code-smash.net>
committer-time 1455273996
committer-tz +0000
summary LOG.warn -> LOG.warning
previous f3fa6b8744b6def33ff85ef1a210c893891aaea6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                LOG.warning(_LW("Failed to release connection after "
1b9a4558b9803ae777fcb0353993f5eb3de0bf06 139 138
author Yatin Kumbhare
author-mail <yatinkumbhare@gmail.com>
author-time 1451976490
author-tz +0530
committer Sam Betts
committer-mail <sam@code-smash.net>
committer-time 1455273996
committer-tz +0000
summary LOG.warn -> LOG.warning
previous f3fa6b8744b6def33ff85ef1a210c893891aaea6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                "initialize interfaces for switch "
1b9a4558b9803ae777fcb0353993f5eb3de0bf06 140 139
author Yatin Kumbhare
author-mail <yatinkumbhare@gmail.com>
author-time 1451976490
author-tz +0530
committer Sam Betts
committer-mail <sam@code-smash.net>
committer-time 1455273996
committer-tz +0000
summary LOG.warn -> LOG.warning
previous f3fa6b8744b6def33ff85ef1a210c893891aaea6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                "%(switch_ip)s"),
6df65927938b27e014042e4bebb3381a02ec19b5 119 140 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                            {'switch_ip': switch_ip})
6df65927938b27e014042e4bebb3381a02ec19b5 120 141
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 73 142 5
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def replay_config(self, switch_ip):
65491efbd9ea0843c00cb50ff4c89211862924de 74 143
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Sends pending config data in OpenStack to Nexus."""
65491efbd9ea0843c00cb50ff4c89211862924de 75 144
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        LOG.debug("Replaying config for switch ip %(switch_ip)s",
65491efbd9ea0843c00cb50ff4c89211862924de 76 145
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                  {'switch_ip': switch_ip})
65491efbd9ea0843c00cb50ff4c89211862924de 77 146
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 126 147 8
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # Before replaying all config, initialize trunk interfaces
6df65927938b27e014042e4bebb3381a02ec19b5 127 148
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # to none as required.  If this fails, the switch may not
6df65927938b27e014042e4bebb3381a02ec19b5 128 149
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # be up all the way.  Quit and retry later.
6df65927938b27e014042e4bebb3381a02ec19b5 129 150
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        try:
6df65927938b27e014042e4bebb3381a02ec19b5 130 151
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            self._initialize_trunk_interfaces_to_none(switch_ip)
6df65927938b27e014042e4bebb3381a02ec19b5 131 152
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        except Exception:
6df65927938b27e014042e4bebb3381a02ec19b5 132 153
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return
6df65927938b27e014042e4bebb3381a02ec19b5 133 154
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 78 155 12
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        nve_bindings = nxos_db.get_nve_switch_bindings(switch_ip)
65491efbd9ea0843c00cb50ff4c89211862924de 79 156
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 80 157
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        for x in nve_bindings:
65491efbd9ea0843c00cb50ff4c89211862924de 81 158
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            try:
65491efbd9ea0843c00cb50ff4c89211862924de 82 159
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                self._driver.create_nve_member(switch_ip,
65491efbd9ea0843c00cb50ff4c89211862924de 83 160
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    const.NVE_INT_NUM, x.vni, x.mcast_group)
65491efbd9ea0843c00cb50ff4c89211862924de 84 161
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            except Exception as e:
65491efbd9ea0843c00cb50ff4c89211862924de 85 162
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                LOG.error(_LE("Failed to configure nve_member for "
65491efbd9ea0843c00cb50ff4c89211862924de 86 163
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    "switch %(switch_ip)s, vni %(vni)s"
65491efbd9ea0843c00cb50ff4c89211862924de 87 164
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    "Reason:%(reason)s "),
65491efbd9ea0843c00cb50ff4c89211862924de 88 165
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    {'switch_ip': switch_ip, 'vni': x.vni,
65491efbd9ea0843c00cb50ff4c89211862924de 89 166
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                     'reason': e})
65491efbd9ea0843c00cb50ff4c89211862924de 91 167 7
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                self._mdriver.register_switch_as_inactive(switch_ip,
65491efbd9ea0843c00cb50ff4c89211862924de 92 168
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    'replay create_nve_member')
65491efbd9ea0843c00cb50ff4c89211862924de 93 169
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                return
65491efbd9ea0843c00cb50ff4c89211862924de 94 170
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 95 171
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        try:
65491efbd9ea0843c00cb50ff4c89211862924de 96 172
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            port_bindings = nxos_db.get_nexusport_switch_bindings(switch_ip)
65491efbd9ea0843c00cb50ff4c89211862924de 97 173
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        except excep.NexusPortBindingNotFound:
1b9a4558b9803ae777fcb0353993f5eb3de0bf06 175 174 1
author Yatin Kumbhare
author-mail <yatinkumbhare@gmail.com>
author-time 1451976490
author-tz +0530
committer Sam Betts
committer-mail <sam@code-smash.net>
committer-time 1455273996
committer-tz +0000
summary LOG.warn -> LOG.warning
previous f3fa6b8744b6def33ff85ef1a210c893891aaea6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            LOG.warning(_LW("No port entries found for switch ip "
65491efbd9ea0843c00cb50ff4c89211862924de 99 175 4
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                            "%(switch_ip)s during replay."),
65491efbd9ea0843c00cb50ff4c89211862924de 100 176
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        {'switch_ip': switch_ip})
65491efbd9ea0843c00cb50ff4c89211862924de 101 177
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return
65491efbd9ea0843c00cb50ff4c89211862924de 102 178
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 158 179 9
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        try:
6df65927938b27e014042e4bebb3381a02ec19b5 159 180
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            self._mdriver.configure_switch_entries(
6df65927938b27e014042e4bebb3381a02ec19b5 160 181
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                switch_ip, port_bindings)
6df65927938b27e014042e4bebb3381a02ec19b5 161 182
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        except Exception as e:
6df65927938b27e014042e4bebb3381a02ec19b5 162 183
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                LOG.error(_LE("Unexpected exception while replaying "
6df65927938b27e014042e4bebb3381a02ec19b5 163 184
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    "entries for switch %(switch_ip)s, Reason:%(reason)s "),
6df65927938b27e014042e4bebb3381a02ec19b5 164 185
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    {'switch_ip': switch_ip, 'reason': e})
6df65927938b27e014042e4bebb3381a02ec19b5 165 186
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                self._mdriver.register_switch_as_inactive(switch_ip,
6df65927938b27e014042e4bebb3381a02ec19b5 166 187
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    'replay switch_entries')
65491efbd9ea0843c00cb50ff4c89211862924de 105 188 2
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 106 189
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def check_connections(self):
2a148b424a1f1b44e5adc4d61943eb907181ce4f 169 190 1
author KATO Tomoyuki
author-mail <kato.tomoyuki@jp.fujitsu.com>
author-time 1446791147
author-tz +0900
committer Sam Betts
committer-mail <sam@code-smash.net>
committer-time 1449572207
committer-tz +0000
summary Change capitalization of OpenStack
previous 51f4eb7fa7d34759a27280ca77213920fecc9469 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Check connection between OpenStack to Nexus device."""
6df65927938b27e014042e4bebb3381a02ec19b5 170 191 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        switch_connections = self._mdriver.get_all_switch_ips()
65491efbd9ea0843c00cb50ff4c89211862924de 109 192 3
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 110 193
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        for switch_ip in switch_connections:
65491efbd9ea0843c00cb50ff4c89211862924de 111 194
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            state = self._mdriver.get_switch_ip_and_active_state(switch_ip)
e6673d534cdff2d5c8434ef9928a766b4304b003 120 195 4
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            config_failure = self._mdriver.get_switch_replay_failure(
e6673d534cdff2d5c8434ef9928a766b4304b003 121 196
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                const.FAIL_CONFIG, switch_ip)
e6673d534cdff2d5c8434ef9928a766b4304b003 122 197
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            contact_failure = self._mdriver.get_switch_replay_failure(
e6673d534cdff2d5c8434ef9928a766b4304b003 123 198
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                const.FAIL_CONTACT, switch_ip)
65491efbd9ea0843c00cb50ff4c89211862924de 125 199 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            LOG.debug("check_connections() switch "
6df65927938b27e014042e4bebb3381a02ec19b5 179 200 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                      "%(switch_ip)s state %(state)s "
e6673d534cdff2d5c8434ef9928a766b4304b003 126 201 5
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                      "contact_failure %(contact_failure)d "
e6673d534cdff2d5c8434ef9928a766b4304b003 127 202
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                      "config_failure %(config_failure)d ",
e6673d534cdff2d5c8434ef9928a766b4304b003 128 203
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                      {'switch_ip': switch_ip, 'state': state,
e6673d534cdff2d5c8434ef9928a766b4304b003 129 204
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                       'contact_failure': contact_failure,
e6673d534cdff2d5c8434ef9928a766b4304b003 130 205
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                       'config_failure': config_failure})
65491efbd9ea0843c00cb50ff4c89211862924de 128 206 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            try:
6df65927938b27e014042e4bebb3381a02ec19b5 186 207 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                # Send a simple get nexus type to determine if
6df65927938b27e014042e4bebb3381a02ec19b5 187 208
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                # the switch is up
65491efbd9ea0843c00cb50ff4c89211862924de 129 209 2
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                nexus_type = self._driver.get_nexus_type(switch_ip)
65491efbd9ea0843c00cb50ff4c89211862924de 130 210
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            except Exception:
6df65927938b27e014042e4bebb3381a02ec19b5 190 211 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                if state != const.SWITCH_INACTIVE:
65491efbd9ea0843c00cb50ff4c89211862924de 132 212 3
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    LOG.error(_LE("Lost connection to switch ip "
65491efbd9ea0843c00cb50ff4c89211862924de 133 213
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        "%(switch_ip)s"), {'switch_ip': switch_ip})
65491efbd9ea0843c00cb50ff4c89211862924de 134 214
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    self._mdriver.set_switch_ip_and_active_state(
6df65927938b27e014042e4bebb3381a02ec19b5 194 215 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        switch_ip, const.SWITCH_INACTIVE)
65491efbd9ea0843c00cb50ff4c89211862924de 136 216 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                else:
e6673d534cdff2d5c8434ef9928a766b4304b003 140 217 3
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    self._mdriver.incr_switch_replay_failure(
e6673d534cdff2d5c8434ef9928a766b4304b003 141 218
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        const.FAIL_CONTACT, switch_ip)
e6673d534cdff2d5c8434ef9928a766b4304b003 142 219
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            else:
6df65927938b27e014042e4bebb3381a02ec19b5 199 220 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                if state == const.SWITCH_RESTORE_S2:
41c57a9fb6ad318e36ed50a3f2e246ece139ff42 200 221 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1446745680
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1447420552
committer-tz -0500
summary Continue update unit tests with new Nexus output
previous 5adaa559b23478ebce7d9f27abf91da0a78ba808 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    try:
6df65927938b27e014042e4bebb3381a02ec19b5 200 222 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        self._mdriver.configure_next_batch_of_vlans(switch_ip)
41c57a9fb6ad318e36ed50a3f2e246ece139ff42 202 223 7
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1446745680
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1447420552
committer-tz -0500
summary Continue update unit tests with new Nexus output
previous 5adaa559b23478ebce7d9f27abf91da0a78ba808 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    except Exception as e:
41c57a9fb6ad318e36ed50a3f2e246ece139ff42 203 224
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1446745680
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1447420552
committer-tz -0500
summary Continue update unit tests with new Nexus output
previous 5adaa559b23478ebce7d9f27abf91da0a78ba808 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        LOG.error(_LE("Unexpected exception while replaying "
41c57a9fb6ad318e36ed50a3f2e246ece139ff42 204 225
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1446745680
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1447420552
committer-tz -0500
summary Continue update unit tests with new Nexus output
previous 5adaa559b23478ebce7d9f27abf91da0a78ba808 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                  "entries for switch %(switch_ip)s, "
41c57a9fb6ad318e36ed50a3f2e246ece139ff42 205 226
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1446745680
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1447420552
committer-tz -0500
summary Continue update unit tests with new Nexus output
previous 5adaa559b23478ebce7d9f27abf91da0a78ba808 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                  "Reason:%(reason)s "),
41c57a9fb6ad318e36ed50a3f2e246ece139ff42 206 227
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1446745680
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1447420552
committer-tz -0500
summary Continue update unit tests with new Nexus output
previous 5adaa559b23478ebce7d9f27abf91da0a78ba808 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                  {'switch_ip': switch_ip, 'reason': e})
41c57a9fb6ad318e36ed50a3f2e246ece139ff42 207 228
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1446745680
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1447420552
committer-tz -0500
summary Continue update unit tests with new Nexus output
previous 5adaa559b23478ebce7d9f27abf91da0a78ba808 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        self._mdriver.register_switch_as_inactive(
41c57a9fb6ad318e36ed50a3f2e246ece139ff42 208 229
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1446745680
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1447420552
committer-tz -0500
summary Continue update unit tests with new Nexus output
previous 5adaa559b23478ebce7d9f27abf91da0a78ba808 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                            switch_ip, 'replay next_vlan_batch')
6df65927938b27e014042e4bebb3381a02ec19b5 201 230 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    continue
41c57a9fb6ad318e36ed50a3f2e246ece139ff42 210 231 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1446745680
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1447420552
committer-tz -0500
summary Continue update unit tests with new Nexus output
previous 5adaa559b23478ebce7d9f27abf91da0a78ba808 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 202 232 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                if state == const.SWITCH_INACTIVE:
65491efbd9ea0843c00cb50ff4c89211862924de 138 233 4
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    self._configure_nexus_type(switch_ip, nexus_type)
65491efbd9ea0843c00cb50ff4c89211862924de 139 234
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    LOG.info(_LI("Re-established connection to switch "
65491efbd9ea0843c00cb50ff4c89211862924de 140 235
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        "ip %(switch_ip)s"),
65491efbd9ea0843c00cb50ff4c89211862924de 141 236
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        {'switch_ip': switch_ip})
41c57a9fb6ad318e36ed50a3f2e246ece139ff42 216 237 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1446745680
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1447420552
committer-tz -0500
summary Continue update unit tests with new Nexus output
previous 5adaa559b23478ebce7d9f27abf91da0a78ba808 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 142 238 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    self._mdriver.set_switch_ip_and_active_state(
6df65927938b27e014042e4bebb3381a02ec19b5 208 239 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        switch_ip, const.SWITCH_RESTORE_S1)
6df65927938b27e014042e4bebb3381a02ec19b5 209 240
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    self._driver.keep_ssh_caching()
65491efbd9ea0843c00cb50ff4c89211862924de 144 241 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    self.replay_config(switch_ip)
6df65927938b27e014042e4bebb3381a02ec19b5 211 242 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    self._driver.init_ssh_caching()
41c57a9fb6ad318e36ed50a3f2e246ece139ff42 222 243 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1446745680
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1447420552
committer-tz -0500
summary Continue update unit tests with new Nexus output
previous 5adaa559b23478ebce7d9f27abf91da0a78ba808 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 145 244 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    # If replay failed, it stops trying to configure db entries
6df65927938b27e014042e4bebb3381a02ec19b5 213 245 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    # and sets switch state to inactive so this caller knows
b6e438a4bc45f5f4e2824be478cb83c9afc5ff35 154 246 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1435244583
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1435244676
committer-tz -0400
summary Retry count not reset on successful replay
previous 37565825675804fe76ba2cb37a871aa78866df69 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    # it failed.  If it did fail, we increment the
b6e438a4bc45f5f4e2824be478cb83c9afc5ff35 155 247
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1435244583
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1435244676
committer-tz -0400
summary Retry count not reset on successful replay
previous 37565825675804fe76ba2cb37a871aa78866df69 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    # retry counter else reset it to 0.
65491efbd9ea0843c00cb50ff4c89211862924de 148 248 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    if self._mdriver.get_switch_ip_and_active_state(
6df65927938b27e014042e4bebb3381a02ec19b5 217 249 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        switch_ip) == const.SWITCH_INACTIVE:
e6673d534cdff2d5c8434ef9928a766b4304b003 157 250 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        self._mdriver.incr_switch_replay_failure(
e6673d534cdff2d5c8434ef9928a766b4304b003 158 251
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                            const.FAIL_CONFIG, switch_ip)
1b9a4558b9803ae777fcb0353993f5eb3de0bf06 253 252 1
author Yatin Kumbhare
author-mail <yatinkumbhare@gmail.com>
author-time 1451976490
author-tz +0530
committer Sam Betts
committer-mail <sam@code-smash.net>
committer-time 1455273996
committer-tz +0000
summary LOG.warn -> LOG.warning
previous f3fa6b8744b6def33ff85ef1a210c893891aaea6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        LOG.warning(_LW("Replay config failed for "
b6e438a4bc45f5f4e2824be478cb83c9afc5ff35 160 253 3
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1435244583
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1435244676
committer-tz -0400
summary Retry count not reset on successful replay
previous 37565825675804fe76ba2cb37a871aa78866df69 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                        "ip %(switch_ip)s"),
b6e438a4bc45f5f4e2824be478cb83c9afc5ff35 161 254
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1435244583
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1435244676
committer-tz -0400
summary Retry count not reset on successful replay
previous 37565825675804fe76ba2cb37a871aa78866df69 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                    {'switch_ip': switch_ip})
b6e438a4bc45f5f4e2824be478cb83c9afc5ff35 162 255
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1435244583
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1435244676
committer-tz -0400
summary Retry count not reset on successful replay
previous 37565825675804fe76ba2cb37a871aa78866df69 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    else:
e6673d534cdff2d5c8434ef9928a766b4304b003 163 256 4
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        self._mdriver.reset_switch_replay_failure(
e6673d534cdff2d5c8434ef9928a766b4304b003 164 257
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                            const.FAIL_CONFIG, switch_ip)
e6673d534cdff2d5c8434ef9928a766b4304b003 165 258
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        self._mdriver.reset_switch_replay_failure(
e6673d534cdff2d5c8434ef9928a766b4304b003 166 259
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                            const.FAIL_CONTACT, switch_ip)
b6e438a4bc45f5f4e2824be478cb83c9afc5ff35 164 260 3
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1435244583
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1435244676
committer-tz -0400
summary Retry count not reset on successful replay
previous 37565825675804fe76ba2cb37a871aa78866df69 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        LOG.info(_LI("Replay config successful for "
b6e438a4bc45f5f4e2824be478cb83c9afc5ff35 165 261
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1435244583
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1435244676
committer-tz -0400
summary Retry count not reset on successful replay
previous 37565825675804fe76ba2cb37a871aa78866df69 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                            "ip %(switch_ip)s"),
b6e438a4bc45f5f4e2824be478cb83c9afc5ff35 166 262
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1435244583
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1435244676
committer-tz -0400
summary Retry count not reset on successful replay
previous 37565825675804fe76ba2cb37a871aa78866df69 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                            {'switch_ip': switch_ip})
65491efbd9ea0843c00cb50ff4c89211862924de 151 263 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
05713dd328e060f6d9ef2da383171eb6007e94f2 35 264 11
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
05713dd328e060f6d9ef2da383171eb6007e94f2 36 265
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	class CiscoNexusMechanismDriver(api.MechanismDriver):
05713dd328e060f6d9ef2da383171eb6007e94f2 37 266
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
05713dd328e060f6d9ef2da383171eb6007e94f2 38 267
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    """Cisco Nexus ML2 Mechanism Driver."""
05713dd328e060f6d9ef2da383171eb6007e94f2 39 268
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
05713dd328e060f6d9ef2da383171eb6007e94f2 40 269
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def initialize(self):
05713dd328e060f6d9ef2da383171eb6007e94f2 41 270
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # Create ML2 device dictionary from ml2_conf.ini entries.
05713dd328e060f6d9ef2da383171eb6007e94f2 42 271
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        conf.ML2MechCiscoConfig()
05713dd328e060f6d9ef2da383171eb6007e94f2 43 272
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
05713dd328e060f6d9ef2da383171eb6007e94f2 44 273
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # Extract configuration parameters from the configuration file.
05713dd328e060f6d9ef2da383171eb6007e94f2 45 274
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        self._nexus_switches = conf.ML2MechCiscoConfig.nexus_dict
b2e86e079ac9dd1dec17ffdf5d668349872efd7f 45 275 1
author Romil Gupta
author-mail <romilg@hp.com>
author-time 1414329533
author-tz -0700
committer Romil Gupta
committer-mail <romilg@hp.com>
committer-time 1416803583
committer-tz +0000
summary Update i18n translation for ML2 plugin log msg's
previous a14fd6343d837062ae0b8e2cd46bb009191373c3 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        LOG.debug("nexus_switches found = %s", self._nexus_switches)
65491efbd9ea0843c00cb50ff4c89211862924de 164 276 2
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # Save dynamic switch information
65491efbd9ea0843c00cb50ff4c89211862924de 165 277
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        self._switch_state = {}
05713dd328e060f6d9ef2da383171eb6007e94f2 47 278 1
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
05713dd328e060f6d9ef2da383171eb6007e94f2 49 279 2
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        self.driver = nexus_network_driver.CiscoNexusDriver()
05713dd328e060f6d9ef2da383171eb6007e94f2 50 280
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
7d37c15e8fc0e20ad9e3b0606d7a2fc534bfdd4a 177 281 4
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1434821907
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1434823725
committer-tz -0400
summary ML2 cisco_nexus MD: Multiprocess replay issue
previous 37565825675804fe76ba2cb37a871aa78866df69 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # This method is only called once regardless of number of
7d37c15e8fc0e20ad9e3b0606d7a2fc534bfdd4a 178 282
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1434821907
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1434823725
committer-tz -0400
summary ML2 cisco_nexus MD: Multiprocess replay issue
previous 37565825675804fe76ba2cb37a871aa78866df69 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # api/rpc workers defined.
7d37c15e8fc0e20ad9e3b0606d7a2fc534bfdd4a 179 283
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1434821907
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1434823725
committer-tz -0400
summary ML2 cisco_nexus MD: Multiprocess replay issue
previous 37565825675804fe76ba2cb37a871aa78866df69 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        self._ppid = os.getpid()
7d37c15e8fc0e20ad9e3b0606d7a2fc534bfdd4a 180 284
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1434821907
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1434823725
committer-tz -0400
summary ML2 cisco_nexus MD: Multiprocess replay issue
previous 37565825675804fe76ba2cb37a871aa78866df69 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 169 285 5
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        self.monitor = CiscoNexusCfgMonitor(self.driver, self)
65491efbd9ea0843c00cb50ff4c89211862924de 170 286
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        self.timer = None
65491efbd9ea0843c00cb50ff4c89211862924de 171 287
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        self.monitor_timeout = conf.cfg.CONF.ml2_cisco.switch_heartbeat_time
65491efbd9ea0843c00cb50ff4c89211862924de 172 288
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        self.monitor_lock = threading.Lock()
65491efbd9ea0843c00cb50ff4c89211862924de 173 289
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # Start the monitor thread
6df65927938b27e014042e4bebb3381a02ec19b5 258 290 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if self.is_replay_enabled():
347073a248ecd844f259c6ef821c5cc27d1b07d1 182 291 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1433530814
author-tz -0400
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1433935031
committer-tz +0000
summary ML2 cisco_nexus MD: Config hangs when replay enabled
previous 2814776d57e0e884e0ad8a0204b5bb49d6abd4c8 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            eventlet.spawn_after(DELAY_MONITOR_THREAD, self._monitor_thread)
65491efbd9ea0843c00cb50ff4c89211862924de 176 292 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
f1f13eedf62a7af4c1d3b132376e08551d5578b6 294 293 32
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def format_interface_name(self, intf_type, port, ch_grp=0):
f1f13eedf62a7af4c1d3b132376e08551d5578b6 295 294
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Method to format interface name given type, port.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 296 295
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
f1f13eedf62a7af4c1d3b132376e08551d5578b6 297 296
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        Given interface type, port, and channel-group, this
f1f13eedf62a7af4c1d3b132376e08551d5578b6 298 297
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        method formats an interface name.  If channel-group is
f1f13eedf62a7af4c1d3b132376e08551d5578b6 299 298
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        non-zero, then port-channel is configured.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 300 299
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
f1f13eedf62a7af4c1d3b132376e08551d5578b6 301 300
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        :param intf_type: Such as 'ethernet' or 'port-channel'
f1f13eedf62a7af4c1d3b132376e08551d5578b6 302 301
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        :param port: unique identification -- 1/32 or 1
f1f13eedf62a7af4c1d3b132376e08551d5578b6 303 302
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        :ch_grp: If non-zero, ignore other params and format
f1f13eedf62a7af4c1d3b132376e08551d5578b6 304 303
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                 port-channel<ch_grp>
f1f13eedf62a7af4c1d3b132376e08551d5578b6 305 304
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        :returns: the full formatted interface name.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 306 305
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                  ex: ethernet:1/32, port-channel:1
f1f13eedf62a7af4c1d3b132376e08551d5578b6 307 306
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """
f1f13eedf62a7af4c1d3b132376e08551d5578b6 308 307
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if ch_grp > 0:
f1f13eedf62a7af4c1d3b132376e08551d5578b6 309 308
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return 'port-channel:%s' % str(ch_grp)
f1f13eedf62a7af4c1d3b132376e08551d5578b6 310 309
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
f1f13eedf62a7af4c1d3b132376e08551d5578b6 311 310
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        return '%s:%s' % (intf_type, port)
f1f13eedf62a7af4c1d3b132376e08551d5578b6 312 311
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
f1f13eedf62a7af4c1d3b132376e08551d5578b6 313 312
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def split_interface_name(self, interface, ch_grp=0):
f1f13eedf62a7af4c1d3b132376e08551d5578b6 314 313
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Method to split interface type, id from name.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 315 314
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
f1f13eedf62a7af4c1d3b132376e08551d5578b6 316 315
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        Takes an interface name or just interface suffix
f1f13eedf62a7af4c1d3b132376e08551d5578b6 317 316
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        and returns interface type and number separately.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 318 317
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
f1f13eedf62a7af4c1d3b132376e08551d5578b6 319 318
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        :param interface: interface name or just suffix
f1f13eedf62a7af4c1d3b132376e08551d5578b6 320 319
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        :param ch_grp: if non-zero, ignore interface
f1f13eedf62a7af4c1d3b132376e08551d5578b6 321 320
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                       name and return 'port-channel' grp
f1f13eedf62a7af4c1d3b132376e08551d5578b6 322 321
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        :returns: interface type like 'ethernet'
f1f13eedf62a7af4c1d3b132376e08551d5578b6 323 322
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        :returns: returns suffix to interface name
f1f13eedf62a7af4c1d3b132376e08551d5578b6 324 323
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """
f1f13eedf62a7af4c1d3b132376e08551d5578b6 325 324
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
88e7ef2e8824d54b4b628e101dd09499bc6c2ffc 325 325 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1455286287
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1455798733
committer-tz +0000
summary Handle new baremetal format of port-id field
previous d3cedbd7b95ca5f70ed83dbad44b3c61f8632d1a networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        interface = interface.lower()
f1f13eedf62a7af4c1d3b132376e08551d5578b6 326 326 5
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if ch_grp != 0:
f1f13eedf62a7af4c1d3b132376e08551d5578b6 327 327
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            intf_type = 'port-channel'
f1f13eedf62a7af4c1d3b132376e08551d5578b6 328 328
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            port = str(ch_grp)
f1f13eedf62a7af4c1d3b132376e08551d5578b6 329 329
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        elif ':' in interface:
f1f13eedf62a7af4c1d3b132376e08551d5578b6 330 330
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            intf_type, port = interface.split(':')
88e7ef2e8824d54b4b628e101dd09499bc6c2ffc 331 331 3
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1455286287
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1455798733
committer-tz +0000
summary Handle new baremetal format of port-id field
previous d3cedbd7b95ca5f70ed83dbad44b3c61f8632d1a networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        elif interface.startswith('ethernet'):
88e7ef2e8824d54b4b628e101dd09499bc6c2ffc 332 332
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1455286287
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1455798733
committer-tz +0000
summary Handle new baremetal format of port-id field
previous d3cedbd7b95ca5f70ed83dbad44b3c61f8632d1a networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            interface = interface.replace(" ", "")
88e7ef2e8824d54b4b628e101dd09499bc6c2ffc 333 333
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1455286287
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1455798733
committer-tz +0000
summary Handle new baremetal format of port-id field
previous d3cedbd7b95ca5f70ed83dbad44b3c61f8632d1a networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            _, intf_type, port = interface.partition('ethernet')
f1f13eedf62a7af4c1d3b132376e08551d5578b6 331 334 5
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        else:
f1f13eedf62a7af4c1d3b132376e08551d5578b6 332 335
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            intf_type, port = 'ethernet', interface
f1f13eedf62a7af4c1d3b132376e08551d5578b6 333 336
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
f1f13eedf62a7af4c1d3b132376e08551d5578b6 334 337
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        return intf_type, port
f1f13eedf62a7af4c1d3b132376e08551d5578b6 335 338
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 261 339 3
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def is_replay_enabled(self):
6df65927938b27e014042e4bebb3381a02ec19b5 262 340
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        return conf.cfg.CONF.ml2_cisco.switch_heartbeat_time > 0
6df65927938b27e014042e4bebb3381a02ec19b5 263 341
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 177 342 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def set_switch_ip_and_active_state(self, switch_ip, state):
6df65927938b27e014042e4bebb3381a02ec19b5 265 343 3
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if not self.is_replay_enabled():
6df65927938b27e014042e4bebb3381a02ec19b5 266 344
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return
6df65927938b27e014042e4bebb3381a02ec19b5 267 345
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        try:
f1f13eedf62a7af4c1d3b132376e08551d5578b6 343 346 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            nxos_db.get_reserved_switch_binding(
6df65927938b27e014042e4bebb3381a02ec19b5 271 347 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                switch_ip)
6df65927938b27e014042e4bebb3381a02ec19b5 272 348
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        except excep.NexusPortBindingNotFound:
f1f13eedf62a7af4c1d3b132376e08551d5578b6 346 349 3
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            nxos_db.add_reserved_switch_binding(
f1f13eedf62a7af4c1d3b132376e08551d5578b6 347 350
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                switch_ip, state)
f1f13eedf62a7af4c1d3b132376e08551d5578b6 348 351
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 273 352 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # overload port_id to contain switch state
f1f13eedf62a7af4c1d3b132376e08551d5578b6 350 353 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        nxos_db.update_reserved_switch_binding(
f1f13eedf62a7af4c1d3b132376e08551d5578b6 351 354
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            switch_ip, state)
65491efbd9ea0843c00cb50ff4c89211862924de 179 355 2
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 180 356
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def get_switch_ip_and_active_state(self, switch_ip):
6df65927938b27e014042e4bebb3381a02ec19b5 288 357 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if not self.is_replay_enabled():
6df65927938b27e014042e4bebb3381a02ec19b5 289 358
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return const.SWITCH_ACTIVE
f1f13eedf62a7af4c1d3b132376e08551d5578b6 356 359 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
f1f13eedf62a7af4c1d3b132376e08551d5578b6 357 360
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        binding = nxos_db.get_reserved_switch_binding(
6df65927938b27e014042e4bebb3381a02ec19b5 293 361 3
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                      switch_ip)
6df65927938b27e014042e4bebb3381a02ec19b5 294 362
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if len(binding) == 1:
6df65927938b27e014042e4bebb3381a02ec19b5 295 363
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return binding[0].port_id
65491efbd9ea0843c00cb50ff4c89211862924de 183 364 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        else:
6df65927938b27e014042e4bebb3381a02ec19b5 297 365 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return const.SWITCH_INACTIVE
6df65927938b27e014042e4bebb3381a02ec19b5 298 366
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 331 367 9
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _switch_defined(self, switch_ip):
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 332 368
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Verify this ip address is defined (for Nexus)."""
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 333 369
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 334 370
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if ((switch_ip, const.USERNAME) in self._nexus_switches and
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 335 371
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	           (switch_ip, const.PASSWORD) in self._nexus_switches):
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 336 372
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return True
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 337 373
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        else:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 338 374
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return False
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 339 375
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 186 376 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def register_switch_as_inactive(self, switch_ip, func_name):
6df65927938b27e014042e4bebb3381a02ec19b5 304 377 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        self.set_switch_ip_and_active_state(switch_ip, const.SWITCH_INACTIVE)
65491efbd9ea0843c00cb50ff4c89211862924de 188 378 4
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        LOG.exception(
65491efbd9ea0843c00cb50ff4c89211862924de 189 379
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            _LE("Nexus Driver cisco_nexus failed in %(func_name)s"),
65491efbd9ea0843c00cb50ff4c89211862924de 190 380
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            {'func_name': func_name})
65491efbd9ea0843c00cb50ff4c89211862924de 191 381
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 309 382 8
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def is_switch_active(self, switch_ip):
6df65927938b27e014042e4bebb3381a02ec19b5 310 383
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if self.is_replay_enabled():
6df65927938b27e014042e4bebb3381a02ec19b5 311 384
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            switch_state = self.get_switch_ip_and_active_state(switch_ip)
6df65927938b27e014042e4bebb3381a02ec19b5 312 385
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            active_states = [const.SWITCH_ACTIVE, const.SWITCH_RESTORE_S2]
6df65927938b27e014042e4bebb3381a02ec19b5 313 386
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return switch_state in active_states
6df65927938b27e014042e4bebb3381a02ec19b5 314 387
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        else:
6df65927938b27e014042e4bebb3381a02ec19b5 315 388
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return True
6df65927938b27e014042e4bebb3381a02ec19b5 316 389
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 192 390 9
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def set_switch_nexus_type(self, switch_ip, type):
65491efbd9ea0843c00cb50ff4c89211862924de 193 391
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        self._switch_state[switch_ip, '_nexus_type'] = type
65491efbd9ea0843c00cb50ff4c89211862924de 194 392
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 195 393
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def get_switch_nexus_type(self, switch_ip):
65491efbd9ea0843c00cb50ff4c89211862924de 196 394
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if (switch_ip, '_nexus_type') in self._switch_state:
65491efbd9ea0843c00cb50ff4c89211862924de 197 395
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return self._switch_state[switch_ip, '_nexus_type']
65491efbd9ea0843c00cb50ff4c89211862924de 198 396
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        else:
65491efbd9ea0843c00cb50ff4c89211862924de 199 397
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return -1
65491efbd9ea0843c00cb50ff4c89211862924de 200 398
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 326 399 9
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _save_switch_vlan_range(self, switch_ip, vlan_range):
6df65927938b27e014042e4bebb3381a02ec19b5 327 400
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        self._switch_state[switch_ip, '_vlan_range'] = vlan_range
6df65927938b27e014042e4bebb3381a02ec19b5 328 401
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 329 402
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _get_switch_vlan_range(self, switch_ip):
6df65927938b27e014042e4bebb3381a02ec19b5 330 403
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if (switch_ip, '_vlan_range') in self._switch_state:
6df65927938b27e014042e4bebb3381a02ec19b5 331 404
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return self._switch_state[switch_ip, '_vlan_range']
6df65927938b27e014042e4bebb3381a02ec19b5 332 405
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        else:
6df65927938b27e014042e4bebb3381a02ec19b5 333 406
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return []
6df65927938b27e014042e4bebb3381a02ec19b5 334 407
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
41c57a9fb6ad318e36ed50a3f2e246ece139ff42 346 408 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1446745680
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1447420552
committer-tz -0500
summary Continue update unit tests with new Nexus output
previous 5adaa559b23478ebce7d9f27abf91da0a78ba808 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _save_switch_vxlan_range(self, switch_ip, vxlan_range):
41c57a9fb6ad318e36ed50a3f2e246ece139ff42 347 409
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1446745680
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1447420552
committer-tz -0500
summary Continue update unit tests with new Nexus output
previous 5adaa559b23478ebce7d9f27abf91da0a78ba808 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        self._switch_state[switch_ip, '_vxlan_range'] = vxlan_range
6df65927938b27e014042e4bebb3381a02ec19b5 337 410 56
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 338 411
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _get_switch_vxlan_range(self, switch_ip):
6df65927938b27e014042e4bebb3381a02ec19b5 339 412
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if (switch_ip, '_vxlan_range') in self._switch_state:
6df65927938b27e014042e4bebb3381a02ec19b5 340 413
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return self._switch_state[switch_ip, '_vxlan_range']
6df65927938b27e014042e4bebb3381a02ec19b5 341 414
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        else:
6df65927938b27e014042e4bebb3381a02ec19b5 342 415
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return []
6df65927938b27e014042e4bebb3381a02ec19b5 343 416
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 344 417
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _pop_vlan_range(self, switch_ip, size):
6df65927938b27e014042e4bebb3381a02ec19b5 345 418
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Extract a specific number of vlans from storage.
6df65927938b27e014042e4bebb3381a02ec19b5 346 419
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 347 420
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        Purpose: Can only send a limited number of vlans
6df65927938b27e014042e4bebb3381a02ec19b5 348 421
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        to Nexus at a time.
6df65927938b27e014042e4bebb3381a02ec19b5 349 422
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 350 423
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        Sample Use Cases:
6df65927938b27e014042e4bebb3381a02ec19b5 351 424
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        1) vlan_range is a list of vlans.  If there is a
6df65927938b27e014042e4bebb3381a02ec19b5 352 425
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        list 1000, 1001, 1002, thru 2000 and size is 6,
6df65927938b27e014042e4bebb3381a02ec19b5 353 426
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        then the result is '1000-1005' and 1006 thru 2000
6df65927938b27e014042e4bebb3381a02ec19b5 354 427
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        is pushed back into storage.
6df65927938b27e014042e4bebb3381a02ec19b5 355 428
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        2) if the list is 1000, 1003, 1004, 1006 thru 2000
6df65927938b27e014042e4bebb3381a02ec19b5 356 429
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        and size is 6, then the result is
6df65927938b27e014042e4bebb3381a02ec19b5 357 430
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        '1000, 1003-1004, 1006-1008' and 1009 thru 2000
6df65927938b27e014042e4bebb3381a02ec19b5 358 431
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        is pushed back into storage for next time.
6df65927938b27e014042e4bebb3381a02ec19b5 359 432
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """
6df65927938b27e014042e4bebb3381a02ec19b5 360 433
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        vlan_range = self._get_switch_vlan_range(switch_ip)
6df65927938b27e014042e4bebb3381a02ec19b5 361 434
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        sized_range = ''
6df65927938b27e014042e4bebb3381a02ec19b5 362 435
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        fr = 0
6df65927938b27e014042e4bebb3381a02ec19b5 363 436
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        to = 0
6df65927938b27e014042e4bebb3381a02ec19b5 364 437
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # if vlan_range not empty and haven't met requested size
6df65927938b27e014042e4bebb3381a02ec19b5 365 438
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        while size > 0 and vlan_range:
6df65927938b27e014042e4bebb3381a02ec19b5 366 439
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            vlan_id, vni, vlan_name = vlan_range.pop(0)
6df65927938b27e014042e4bebb3381a02ec19b5 367 440
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            size -= 1
6df65927938b27e014042e4bebb3381a02ec19b5 368 441
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if fr == 0 and to == 0:
6df65927938b27e014042e4bebb3381a02ec19b5 369 442
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                fr = vlan_id
6df65927938b27e014042e4bebb3381a02ec19b5 370 443
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                to = vlan_id
6df65927938b27e014042e4bebb3381a02ec19b5 371 444
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            else:
6df65927938b27e014042e4bebb3381a02ec19b5 372 445
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                diff = vlan_id - to
6df65927938b27e014042e4bebb3381a02ec19b5 373 446
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                if diff == 1:
6df65927938b27e014042e4bebb3381a02ec19b5 374 447
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    to = vlan_id
6df65927938b27e014042e4bebb3381a02ec19b5 375 448
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                else:
6df65927938b27e014042e4bebb3381a02ec19b5 376 449
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    if fr == to:
6df65927938b27e014042e4bebb3381a02ec19b5 377 450
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        sized_range += str(to) + ','
6df65927938b27e014042e4bebb3381a02ec19b5 378 451
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    else:
6df65927938b27e014042e4bebb3381a02ec19b5 379 452
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        sized_range += str(fr) + '-'
6df65927938b27e014042e4bebb3381a02ec19b5 380 453
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        sized_range += str(to) + ','
6df65927938b27e014042e4bebb3381a02ec19b5 381 454
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    fr = vlan_id
6df65927938b27e014042e4bebb3381a02ec19b5 382 455
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    to = vlan_id
6df65927938b27e014042e4bebb3381a02ec19b5 383 456
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if fr != 0:
6df65927938b27e014042e4bebb3381a02ec19b5 384 457
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if fr == to:
6df65927938b27e014042e4bebb3381a02ec19b5 385 458
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                sized_range += str(to)
6df65927938b27e014042e4bebb3381a02ec19b5 386 459
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            else:
6df65927938b27e014042e4bebb3381a02ec19b5 387 460
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                sized_range += str(fr) + '-'
6df65927938b27e014042e4bebb3381a02ec19b5 388 461
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                sized_range += str(to)
6df65927938b27e014042e4bebb3381a02ec19b5 389 462
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            self._save_switch_vlan_range(switch_ip, vlan_range)
6df65927938b27e014042e4bebb3381a02ec19b5 390 463
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 391 464
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        return sized_range
6df65927938b27e014042e4bebb3381a02ec19b5 392 465
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
e6673d534cdff2d5c8434ef9928a766b4304b003 224 466 5
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _valid_replay_key(self, fail_key, switch_ip):
e6673d534cdff2d5c8434ef9928a766b4304b003 225 467
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if (switch_ip, const.REPLAY_FAILURES) not in self._switch_state:
e6673d534cdff2d5c8434ef9928a766b4304b003 226 468
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            self._switch_state[switch_ip, const.REPLAY_FAILURES] = {
e6673d534cdff2d5c8434ef9928a766b4304b003 227 469
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                const.FAIL_CONTACT: 0,
e6673d534cdff2d5c8434ef9928a766b4304b003 228 470
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                const.FAIL_CONFIG: 0}
65491efbd9ea0843c00cb50ff4c89211862924de 203 471 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
e6673d534cdff2d5c8434ef9928a766b4304b003 230 472 6
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        return fail_key in self._switch_state[switch_ip,
e6673d534cdff2d5c8434ef9928a766b4304b003 231 473
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                              const.REPLAY_FAILURES]
e6673d534cdff2d5c8434ef9928a766b4304b003 232 474
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
e6673d534cdff2d5c8434ef9928a766b4304b003 233 475
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def reset_switch_replay_failure(self, fail_key, switch_ip):
e6673d534cdff2d5c8434ef9928a766b4304b003 234 476
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if self._valid_replay_key(fail_key, switch_ip):
e6673d534cdff2d5c8434ef9928a766b4304b003 235 477
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            self._switch_state[switch_ip, const.REPLAY_FAILURES][fail_key] = 0
65491efbd9ea0843c00cb50ff4c89211862924de 209 478 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
e6673d534cdff2d5c8434ef9928a766b4304b003 237 479 10
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def incr_switch_replay_failure(self, fail_key, switch_ip):
e6673d534cdff2d5c8434ef9928a766b4304b003 238 480
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if self._valid_replay_key(fail_key, switch_ip):
e6673d534cdff2d5c8434ef9928a766b4304b003 239 481
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            self._switch_state[switch_ip, const.REPLAY_FAILURES][fail_key] += 1
e6673d534cdff2d5c8434ef9928a766b4304b003 240 482
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
e6673d534cdff2d5c8434ef9928a766b4304b003 241 483
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def get_switch_replay_failure(self, fail_key, switch_ip):
e6673d534cdff2d5c8434ef9928a766b4304b003 242 484
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if self._valid_replay_key(fail_key, switch_ip):
e6673d534cdff2d5c8434ef9928a766b4304b003 243 485
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return self._switch_state[switch_ip,
e6673d534cdff2d5c8434ef9928a766b4304b003 244 486
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                   const.REPLAY_FAILURES][fail_key]
e6673d534cdff2d5c8434ef9928a766b4304b003 245 487
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        else:
e6673d534cdff2d5c8434ef9928a766b4304b003 246 488
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1438792576
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1438875672
committer-tz -0400
summary Replace retry count with replay failure stats
previous 923dfd79ef6eb0418d5d56e5d1ce225334424963 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return 0
65491efbd9ea0843c00cb50ff4c89211862924de 214 489 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 417 490 3
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def get_all_switch_ips(self):
6df65927938b27e014042e4bebb3381a02ec19b5 418 491
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Using reserved switch binding get all switch ips."""
6df65927938b27e014042e4bebb3381a02ec19b5 419 492
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 216 493 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        switch_connections = []
6df65927938b27e014042e4bebb3381a02ec19b5 421 494 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        try:
f1f13eedf62a7af4c1d3b132376e08551d5578b6 492 495 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            bindings = nxos_db.get_reserved_switch_binding()
6df65927938b27e014042e4bebb3381a02ec19b5 425 496 5
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        except excep.NexusPortBindingNotFound:
6df65927938b27e014042e4bebb3381a02ec19b5 426 497
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            LOG.error(_LE("No switch bindings in the port data base"))
6df65927938b27e014042e4bebb3381a02ec19b5 427 498
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            bindings = []
6df65927938b27e014042e4bebb3381a02ec19b5 428 499
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        for switch in bindings:
6df65927938b27e014042e4bebb3381a02ec19b5 429 500
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            switch_connections.append(switch.switch_ip)
65491efbd9ea0843c00cb50ff4c89211862924de 220 501 3
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 221 502
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        return switch_connections
65491efbd9ea0843c00cb50ff4c89211862924de 222 503
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
05713dd328e060f6d9ef2da383171eb6007e94f2 54 504 5
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _valid_network_segment(self, segment):
05713dd328e060f6d9ef2da383171eb6007e94f2 55 505
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        return (cfg.CONF.ml2_cisco.managed_physical_network is None or
05713dd328e060f6d9ef2da383171eb6007e94f2 56 506
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                cfg.CONF.ml2_cisco.managed_physical_network ==
05713dd328e060f6d9ef2da383171eb6007e94f2 57 507
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                segment[api.PHYSICAL_NETWORK])
05713dd328e060f6d9ef2da383171eb6007e94f2 58 508
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 252 509 2
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _is_supported_deviceowner(self, port):
65491efbd9ea0843c00cb50ff4c89211862924de 253 510
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        return (port['device_owner'].startswith('compute') or
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 494 511 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                port['device_owner'].startswith('baremetal') or
93b5f91041b9b82aadf6643845dfd7448d2cdfac 277 512 2
author tiswanso
author-mail <tiswanso@cisco.com>
author-time 1448248086
author-tz -0500
committer Tim Swanson
committer-mail <tiswanso@cisco.com>
committer-time 1448316802
committer-tz -0500
summary cisco nexus ML2: L3 agent HA interfaces-VLAN not created on Nexus switch.
previous f2d7d33627644b7f213229d391958af9cf2ae5b3 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                port['device_owner'] == n_const.DEVICE_OWNER_DHCP or
93b5f91041b9b82aadf6643845dfd7448d2cdfac 278 513
author tiswanso
author-mail <tiswanso@cisco.com>
author-time 1448248086
author-tz -0500
committer Tim Swanson
committer-mail <tiswanso@cisco.com>
committer-time 1448316802
committer-tz -0500
summary cisco nexus ML2: L3 agent HA interfaces-VLAN not created on Nexus switch.
previous f2d7d33627644b7f213229d391958af9cf2ae5b3 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                port['device_owner'] == n_const.DEVICE_OWNER_ROUTER_HA_INTF)
05713dd328e060f6d9ef2da383171eb6007e94f2 67 514 4
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
05713dd328e060f6d9ef2da383171eb6007e94f2 68 515
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _is_status_active(self, port):
05713dd328e060f6d9ef2da383171eb6007e94f2 69 516
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        return port['status'] == n_const.PORT_STATUS_ACTIVE
05713dd328e060f6d9ef2da383171eb6007e94f2 70 517
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 512 518 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _is_baremetal(self, port):
f1f13eedf62a7af4c1d3b132376e08551d5578b6 516 519 12
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Identifies ironic baremetal transactions.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 517 520
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
f1f13eedf62a7af4c1d3b132376e08551d5578b6 518 521
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        There are two types of transactions.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 519 522
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        1) A host transaction which is dependent on
f1f13eedf62a7af4c1d3b132376e08551d5578b6 520 523
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	           host to interface mapping config stored in the
f1f13eedf62a7af4c1d3b132376e08551d5578b6 521 524
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	           ml2_conf.ini file. The VNIC type for this is
f1f13eedf62a7af4c1d3b132376e08551d5578b6 522 525
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	           'normal' which is the assumed condition.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 523 526
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        2) A baremetal transaction which comes from
f1f13eedf62a7af4c1d3b132376e08551d5578b6 524 527
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	           the ironic project where the interfaces
f1f13eedf62a7af4c1d3b132376e08551d5578b6 525 528
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	           are provided in the port transaction. In this
f1f13eedf62a7af4c1d3b132376e08551d5578b6 526 529
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	           case the VNIC_TYPE is 'baremetal'.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 527 530
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 514 531 10
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        return (port[portbindings.VNIC_TYPE] ==
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 515 532
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                portbindings.VNIC_BAREMETAL)
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 516 533
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 517 534
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _get_baremetal_switch_info(self, link_info):
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 518 535
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Get switch_info dictionary from context."""
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 519 536
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 520 537
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        try:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 521 538
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            switch_info = link_info['switch_info']
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 522 539
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if not isinstance(switch_info, dict):
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 523 540
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                switch_info = jsonutils.loads(switch_info)
f1f13eedf62a7af4c1d3b132376e08551d5578b6 538 541 3
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        except Exception as e:
f1f13eedf62a7af4c1d3b132376e08551d5578b6 539 542
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            LOG.error(_LE("switch_info can't be decoded: %(exp)s"),
f1f13eedf62a7af4c1d3b132376e08551d5578b6 540 543
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                      {"exp": e})
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 525 544 5
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            switch_info = {}
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 526 545
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 527 546
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        return switch_info
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 528 547
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 529 548
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _supported_baremetal_transaction(self, context):
f1f13eedf62a7af4c1d3b132376e08551d5578b6 546 549 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Verify transaction is complete and for us."""
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 531 550 24
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 532 551
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        port = context.current
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 533 552
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 534 553
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if not self._is_baremetal(port):
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 535 554
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return False
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 536 555
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 537 556
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if portbindings.PROFILE not in port:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 538 557
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return False
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 539 558
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 540 559
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        profile = port[portbindings.PROFILE]
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 541 560
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 542 561
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if 'local_link_information' not in profile:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 543 562
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return False
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 544 563
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 545 564
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        all_link_info = profile['local_link_information']
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 546 565
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 547 566
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        selected = False
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 548 567
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        for link_info in all_link_info:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 549 568
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 550 569
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if 'port_id' not in link_info:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 551 570
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                return False
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 552 571
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 553 572
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            switch_info = self._get_baremetal_switch_info(
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 554 573
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                              link_info)
f1f13eedf62a7af4c1d3b132376e08551d5578b6 571 574 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if 'switch_ip' in switch_info:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 556 575 37
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                switch_ip = switch_info['switch_ip']
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 557 576
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            else:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 558 577
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                return False
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 559 578
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 560 579
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if self._switch_defined(switch_ip):
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 561 580
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                selected = True
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 562 581
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            else:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 563 582
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                LOG.warning(_LW("Skip switch %s.  Not configured "
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 564 583
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                          "in ini file") % switch_ip)
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 565 584
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 566 585
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if not selected:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 567 586
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return False
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 568 587
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 569 588
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        selected = False
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 570 589
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        for segment in context.segments_to_bind:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 571 590
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 572 591
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            # if valid 'vlan' type and vlan_id
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 573 592
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if (segment[api.NETWORK_TYPE] == p_const.TYPE_VLAN and
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 574 593
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                segment[api.SEGMENTATION_ID]):
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 575 594
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                context.set_binding(segment[api.ID],
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 576 595
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    portbindings.VIF_TYPE_OTHER,
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 577 596
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    {},
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 578 597
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    status=n_const.PORT_STATUS_ACTIVE)
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 579 598
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                selected = True
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 580 599
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                LOG.debug("Baremetal binding selected: segment ID %(id)s, "
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 581 600
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                          "segment %(seg)s, phys net %(physnet)s, and "
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 582 601
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                          "network type %(nettype)s with %(count)d "
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 583 602
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                          "link_info",
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 584 603
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                          {'id': segment[api.ID],
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 585 604
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                           'seg': segment[api.SEGMENTATION_ID],
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 586 605
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                           'physnet': segment[api.PHYSICAL_NETWORK],
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 587 606
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                           'nettype': segment[api.NETWORK_TYPE],
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 588 607
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                           'count': len(all_link_info)})
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 589 608
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                break
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 590 609
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 591 610
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        return selected
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 592 611
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 445 612 3
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _gather_configured_ports(self, switch_ip, attr, host_list):
6df65927938b27e014042e4bebb3381a02ec19b5 446 613
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Get all interfaces originally from ml2_conf_cisco files."""
6df65927938b27e014042e4bebb3381a02ec19b5 447 614
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
3f012a657414f9a8016ff685147f39463ac17023 69 615 2
author Britt Houser
author-mail <bhouser@cisco.com>
author-time 1407527151
author-tz -0400
committer Britt Houser
committer-mail <bhouser@cisco.com>
committer-time 1408300409
committer-tz -0400
summary Change nexus_dict to accept port lists
previous 672a4518902786b0606f7e4977bad47b011f9af2 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        for port_id in (
3f012a657414f9a8016ff685147f39463ac17023 70 616
author Britt Houser
author-mail <bhouser@cisco.com>
author-time 1407527151
author-tz -0400
committer Britt Houser
committer-mail <bhouser@cisco.com>
committer-time 1408300409
committer-tz -0400
summary Change nexus_dict to accept port lists
previous 672a4518902786b0606f7e4977bad47b011f9af2 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            self._nexus_switches[switch_ip, attr].split(',')):
f1f13eedf62a7af4c1d3b132376e08551d5578b6 614 617 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            intf_type, port = self.split_interface_name(port_id)
6df65927938b27e014042e4bebb3381a02ec19b5 455 618 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 603 619 5
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            # is_native set to const.NOT_NATIVE for
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 604 620
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            # VNIC_TYPE of normal
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 605 621
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            host_list.append((switch_ip, intf_type, port,
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 606 622
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                const.NOT_NATIVE))
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 607 623
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 616 624 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _get_baremetal_switches(self, port):
f1f13eedf62a7af4c1d3b132376e08551d5578b6 622 625 9
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Get switch ip addresses from baremetal transaction.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 623 626
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
f1f13eedf62a7af4c1d3b132376e08551d5578b6 624 627
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        This method is used to extract switch information
f1f13eedf62a7af4c1d3b132376e08551d5578b6 625 628
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        from the transaction where VNIC_TYPE is baremetal.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 626 629
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
f1f13eedf62a7af4c1d3b132376e08551d5578b6 627 630
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        :param port: Received port transaction
f1f13eedf62a7af4c1d3b132376e08551d5578b6 628 631
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        :returns: list of all switches
f1f13eedf62a7af4c1d3b132376e08551d5578b6 629 632
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        :returns: list of only switches which are active
f1f13eedf62a7af4c1d3b132376e08551d5578b6 630 633
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 618 634 20
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 619 635
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        all_switches = set()
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 620 636
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        active_switches = set()
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 621 637
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        all_link_info = port[portbindings.PROFILE]['local_link_information']
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 622 638
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        for link_info in all_link_info:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 623 639
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            switch_info = self._get_baremetal_switch_info(link_info)
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 624 640
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if not switch_info:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 625 641
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                continue
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 626 642
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            switch_ip = switch_info['switch_ip']
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 627 643
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 628 644
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            # If not for Nexus
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 629 645
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if not self._switch_defined(switch_ip):
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 630 646
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                continue
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 631 647
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 632 648
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            all_switches.add(switch_ip)
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 633 649
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if self.is_switch_active(switch_ip):
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 634 650
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                active_switches.add(switch_ip)
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 635 651
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 636 652
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        return list(all_switches), list(active_switches)
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 637 653
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 652 654 3
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _get_baremetal_connections(self, port,
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 653 655
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                   only_active_switch=False,
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 654 656
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                   from_segment=False):
f1f13eedf62a7af4c1d3b132376e08551d5578b6 654 657 14
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Get switch ips and interfaces from baremetal transaction.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 655 658
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
f1f13eedf62a7af4c1d3b132376e08551d5578b6 656 659
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        This method is used to extract switch/interface
f1f13eedf62a7af4c1d3b132376e08551d5578b6 657 660
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        information from transactions where VNIC_TYPE is
f1f13eedf62a7af4c1d3b132376e08551d5578b6 658 661
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        baremetal.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 659 662
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
f1f13eedf62a7af4c1d3b132376e08551d5578b6 660 663
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        :param port: Received port transaction
f1f13eedf62a7af4c1d3b132376e08551d5578b6 661 664
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        :param only_active_switch: Indicator for selecting
f1f13eedf62a7af4c1d3b132376e08551d5578b6 662 665
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                     connections with switches that are active
f1f13eedf62a7af4c1d3b132376e08551d5578b6 663 666
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        :param from_segment: only return interfaces from the
f1f13eedf62a7af4c1d3b132376e08551d5578b6 664 667
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                   segment/transaction as opposed to
f1f13eedf62a7af4c1d3b132376e08551d5578b6 665 668
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                   say port channels which are learned.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 666 669
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        :Returns: list of switch_ip, intf_type, port_id, is_native
f1f13eedf62a7af4c1d3b132376e08551d5578b6 667 670
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 656 671 6
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 657 672
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        connections = []
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 658 673
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 659 674
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        all_link_info = port[portbindings.PROFILE]['local_link_information']
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 660 675
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        for link_info in all_link_info:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 661 676
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
f1f13eedf62a7af4c1d3b132376e08551d5578b6 674 677 3
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            # Extract port info
f1f13eedf62a7af4c1d3b132376e08551d5578b6 675 678
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            intf_type, port = self.split_interface_name(
f1f13eedf62a7af4c1d3b132376e08551d5578b6 676 679
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                  link_info['port_id'])
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 668 680 23
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 669 681
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            # Determine if this switch is to be skipped
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 670 682
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            switch_info = self._get_baremetal_switch_info(
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 671 683
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                              link_info)
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 672 684
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if not switch_info:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 673 685
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                continue
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 674 686
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            switch_ip = switch_info['switch_ip']
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 675 687
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 676 688
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            # If not for Nexus
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 677 689
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if not self._switch_defined(switch_ip):
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 678 690
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                continue
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 679 691
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 680 692
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            # Requested connections for only active switches
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 681 693
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if (only_active_switch and
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 682 694
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                not self.is_switch_active(switch_ip)):
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 683 695
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                continue
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 684 696
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 685 697
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if 'is_native' in switch_info:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 686 698
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                is_native = switch_info['is_native']
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 687 699
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            else:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 688 700
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                is_native = const.NOT_NATIVE
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 689 701
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if not from_segment:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 690 702
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                try:
f1f13eedf62a7af4c1d3b132376e08551d5578b6 700 703 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    reserved = nxos_db.get_reserved_port_binding(
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 694 704 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        switch_ip,
f1f13eedf62a7af4c1d3b132376e08551d5578b6 702 705 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        self.format_interface_name(
f1f13eedf62a7af4c1d3b132376e08551d5578b6 703 706
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                            intf_type, port))
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 696 707 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    if reserved[0].channel_group > 0:
f1f13eedf62a7af4c1d3b132376e08551d5578b6 705 708 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        intf_type, port = self.split_interface_name(
f1f13eedf62a7af4c1d3b132376e08551d5578b6 706 709
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                            '', reserved[0].channel_group)
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 699 710 7
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                except excep.NexusPortBindingNotFound:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 700 711
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    pass
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 701 712
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 702 713
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            connections.append((switch_ip, intf_type, port, is_native))
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 703 714
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 704 715
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        return connections
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 705 716
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 731 717 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _change_baremetal_interfaces(self, switch_ip, intf_type,
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 732 718
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                    port, old_ch_grp, ch_grp):
f1f13eedf62a7af4c1d3b132376e08551d5578b6 716 719 26
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Restart detected port channel change. Update database.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 717 720
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
f1f13eedf62a7af4c1d3b132376e08551d5578b6 718 721
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        This method is used to extract switch/interface
f1f13eedf62a7af4c1d3b132376e08551d5578b6 719 722
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        information from transactions where VNIC_TYPE is
f1f13eedf62a7af4c1d3b132376e08551d5578b6 720 723
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        baremetal for only active switches.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 721 724
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        When interfaces are initialized during replay restore,
f1f13eedf62a7af4c1d3b132376e08551d5578b6 722 725
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        check to verify that ch-grps are the same.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 723 726
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if not, this function is called to handle change for the
f1f13eedf62a7af4c1d3b132376e08551d5578b6 724 727
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        following cases.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 725 728
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        1) If RESERVED port is zero and switch returns non-zero, then
f1f13eedf62a7af4c1d3b132376e08551d5578b6 726 729
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	           * Create port-channel db entry
f1f13eedf62a7af4c1d3b132376e08551d5578b6 727 730
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	           * Update RESERVED port with non-zero port channel
f1f13eedf62a7af4c1d3b132376e08551d5578b6 728 731
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	           * Delete db entry with port_id defined in port_binding.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 729 732
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        2) If RESERVED port is non-zero and switch returns non-zero
f1f13eedf62a7af4c1d3b132376e08551d5578b6 730 733
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	           and they don't match, then
f1f13eedf62a7af4c1d3b132376e08551d5578b6 731 734
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	           * Create port-channel db entry with channel grp from switch,
f1f13eedf62a7af4c1d3b132376e08551d5578b6 732 735
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	           * Update RESERVED port with non-zero port channel received
f1f13eedf62a7af4c1d3b132376e08551d5578b6 733 736
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	             from switch,
f1f13eedf62a7af4c1d3b132376e08551d5578b6 734 737
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	           * Delete port-channel db entry with with old-ch-grp from
f1f13eedf62a7af4c1d3b132376e08551d5578b6 735 738
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	             RESERVED port.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 736 739
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        3) If RESERVED port is non-zero and switch returns zero, then:
f1f13eedf62a7af4c1d3b132376e08551d5578b6 737 740
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	           * Create port entry with port_id from RESERVED port
f1f13eedf62a7af4c1d3b132376e08551d5578b6 738 741
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	           * Update RESERVED port with zero channel-group
f1f13eedf62a7af4c1d3b132376e08551d5578b6 739 742
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	           * Delete port-channel db entry with old-ch-grp from
f1f13eedf62a7af4c1d3b132376e08551d5578b6 740 743
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	             RESERVED port
f1f13eedf62a7af4c1d3b132376e08551d5578b6 741 744
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 734 745 5
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 735 746
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if old_ch_grp == ch_grp:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 736 747
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 737 748
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 738 749
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # Get all bindings to this switch interface
f1f13eedf62a7af4c1d3b132376e08551d5578b6 747 750 6
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        reserved_port_id = self.format_interface_name(
f1f13eedf62a7af4c1d3b132376e08551d5578b6 748 751
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                               intf_type, port)
f1f13eedf62a7af4c1d3b132376e08551d5578b6 749 752
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        old_port_id = self.format_interface_name(
f1f13eedf62a7af4c1d3b132376e08551d5578b6 750 753
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                          intf_type, port, old_ch_grp)
f1f13eedf62a7af4c1d3b132376e08551d5578b6 751 754
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        new_port_id = self.format_interface_name(
f1f13eedf62a7af4c1d3b132376e08551d5578b6 752 755
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                          intf_type, port, ch_grp)
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 744 756 4
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 745 757
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # Get all port instances related to this switch interface
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 746 758
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        try:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 747 759
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            bindings = nxos_db.get_nexus_switchport_binding(
f1f13eedf62a7af4c1d3b132376e08551d5578b6 757 760 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                           old_port_id, switch_ip)
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 749 761 5
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        except Exception:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 750 762
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 751 763
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 752 764
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # process all port instances related to this switch interface
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 753 765
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # and change port channel group
f1f13eedf62a7af4c1d3b132376e08551d5578b6 763 766 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 754 767 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        for row in bindings:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 755 768
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
f1f13eedf62a7af4c1d3b132376e08551d5578b6 766 769 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if nxos_db.is_reserved_binding(row):
f1f13eedf62a7af4c1d3b132376e08551d5578b6 767 770
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                continue
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 760 771 20
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 761 772
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            # Add port binding with new channel-group
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 762 773
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            try:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 763 774
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                nxos_db.get_nexusport_binding(
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 764 775
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    new_port_id, row.vlan_id,
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 765 776
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    switch_ip, row.instance_id)
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 766 777
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            except excep.NexusPortBindingNotFound:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 767 778
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                nxos_db.add_nexusport_binding(
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 768 779
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    new_port_id, row.vlan_id, row.vni,
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 769 780
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    switch_ip, row.instance_id,
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 770 781
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    row.is_provider_vlan,
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 771 782
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    row.is_native)
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 772 783
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 773 784
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            # Remove port binding with old channel-group
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 774 785
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            try:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 775 786
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                nxos_db.remove_nexusport_binding(
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 776 787
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    old_port_id, row.vlan_id, row.vni,
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 777 788
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    switch_ip, row.instance_id,
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 778 789
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    row.is_provider_vlan)
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 779 790
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            except Exception:
f1f13eedf62a7af4c1d3b132376e08551d5578b6 788 791 8
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                LOG.error(_LE("Failed to remove port %(port)s"
f1f13eedf62a7af4c1d3b132376e08551d5578b6 789 792
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    "vlan %(vlan)d vni %(vni)d "
f1f13eedf62a7af4c1d3b132376e08551d5578b6 790 793
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    "switch_ip %(ip), instance %(id)s"),
f1f13eedf62a7af4c1d3b132376e08551d5578b6 791 794
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    {'port': old_port_id,
f1f13eedf62a7af4c1d3b132376e08551d5578b6 792 795
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    'vlan': row.vlan_id,
f1f13eedf62a7af4c1d3b132376e08551d5578b6 793 796
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    'vni': row.vni,
f1f13eedf62a7af4c1d3b132376e08551d5578b6 794 797
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    'ip': switch_ip,
f1f13eedf62a7af4c1d3b132376e08551d5578b6 795 798
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    'id': row.instance_id})
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 781 799 3
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                continue
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 782 800
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 783 801
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # Update the reserved port binding with new channel group
f1f13eedf62a7af4c1d3b132376e08551d5578b6 799 802 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        nxos_db.update_reserved_port_binding(
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 786 803 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                switch_ip,
f1f13eedf62a7af4c1d3b132376e08551d5578b6 801 804 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                reserved_port_id,
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 790 805 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                ch_grp)
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 791 806
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 807 807 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _init_baremetal_trunk_interfaces(self, port_seg, segment, vni):
f1f13eedf62a7af4c1d3b132376e08551d5578b6 805 808 16
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Initialize baremetal switch interfaces and DB entry.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 806 809
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
f1f13eedf62a7af4c1d3b132376e08551d5578b6 807 810
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        With baremetal transactions, the interfaces are not
f1f13eedf62a7af4c1d3b132376e08551d5578b6 808 811
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        known during initialization so they must be initialized
f1f13eedf62a7af4c1d3b132376e08551d5578b6 809 812
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        when the transactions are received.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 810 813
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        * Reserved switch entries are added if needed.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 811 814
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        * Reserved port entries are added.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 812 815
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        * Port Bindings are added and initialized on the switch.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 813 816
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        * Determine if port channel is configured on the
f1f13eedf62a7af4c1d3b132376e08551d5578b6 814 817
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	          interface and store it so we know to create a port-channel
f1f13eedf62a7af4c1d3b132376e08551d5578b6 815 818
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	          binding instead of that defined in the transaction.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 816 819
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	          In this case, the RESERVED binding is the ethernet interface
f1f13eedf62a7af4c1d3b132376e08551d5578b6 817 820
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	          with port-channel stored in channel-group field.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 818 821
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	          With this channe-group not 0, we know to create a port binding
f1f13eedf62a7af4c1d3b132376e08551d5578b6 819 822
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	          as a port-channel instead of interface ethernet.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 820 823
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 809 824 12
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 810 825
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # interfaces list requiring switch initialization and
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 811 826
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # reserved port and port_binding db entry creation
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 812 827
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        list_to_init = []
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 813 828
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 814 829
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # interfaces list requiring reserved port and port_binding
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 815 830
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # db entry creation
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 816 831
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        inactive_switch = []
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 817 832
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 818 833
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # interfaces list requiring creation of port_binding db entry
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 819 834
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        reserved_exists = []
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 820 835
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 840 836 4
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        connections = self._get_baremetal_connections(
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 841 837
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                          port_seg, False, True)
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 842 838
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        for switch_ip, intf_type, port, is_native in connections:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 843 839
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            try:
f1f13eedf62a7af4c1d3b132376e08551d5578b6 837 840 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                reserved = nxos_db.get_reserved_port_binding(
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 847 841 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                               switch_ip,
f1f13eedf62a7af4c1d3b132376e08551d5578b6 839 842 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                               self.format_interface_name(
f1f13eedf62a7af4c1d3b132376e08551d5578b6 840 843
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                   intf_type, port))
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 849 844 19
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                reserved_exists.append(
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 850 845
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    (switch_ip, intf_type, port, is_native,
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 851 846
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    reserved[0].channel_group))
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 852 847
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            except excep.NexusPortBindingNotFound:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 853 848
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                if self.is_switch_active(switch_ip):
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 854 849
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    # channel-group added later
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 855 850
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    list_to_init.append(
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 856 851
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        (switch_ip, intf_type, port, is_native))
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 857 852
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                else:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 858 853
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    inactive_switch.append(
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 859 854
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        (switch_ip, intf_type, port, is_native, 0))
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 860 855
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 861 856
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # channel_group is appended to tuples in list_to_init
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 862 857
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        self.driver.initialize_all_switch_interfaces(list_to_init)
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 863 858
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 864 859
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # Add inactive list to list_to_init to create RESERVED
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 865 860
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # port data base entries
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 866 861
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        list_to_init += inactive_switch
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 867 862
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        for switch_ip, intf_type, port, is_native, ch_grp in list_to_init:
f1f13eedf62a7af4c1d3b132376e08551d5578b6 860 863 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            nxos_db.add_reserved_port_binding(
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 872 864 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                switch_ip,
f1f13eedf62a7af4c1d3b132376e08551d5578b6 862 865 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                self.format_interface_name(intf_type, port),
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 876 866 10
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                ch_grp)
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 877 867
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 878 868
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        device_id = port_seg.get('device_id')
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 879 869
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        vlan_id = segment.get(api.SEGMENTATION_ID)
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 880 870
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # TODO(rpothier) Add back in provider segment support.
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 881 871
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        is_provider_vlan = False
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 882 872
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 883 873
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # Add reserved_exists list to list_to_init to create
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 884 874
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # port_binding data base entries
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 885 875
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        list_to_init += reserved_exists
f1f13eedf62a7af4c1d3b132376e08551d5578b6 873 876 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        for switch_ip, intf_type, port, is_native, ch_grp in list_to_init:
f1f13eedf62a7af4c1d3b132376e08551d5578b6 874 877
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            port_id = self.format_interface_name(intf_type, port, ch_grp)
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 891 878 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            try:
f1f13eedf62a7af4c1d3b132376e08551d5578b6 876 879 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                nxos_db.get_nexusport_binding(
f1f13eedf62a7af4c1d3b132376e08551d5578b6 877 880
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    port_id, vlan_id, switch_ip, device_id)
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 894 881 5
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            except excep.NexusPortBindingNotFound:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 895 882
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                nxos_db.add_nexusport_binding(
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 896 883
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    port_id, str(vlan_id), str(vni),
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 897 884
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    switch_ip, device_id,
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 898 885
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    is_provider_vlan,
f1f13eedf62a7af4c1d3b132376e08551d5578b6 883 886 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    is_native)
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 901 887 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
536cf6cc91d680c45fdae07e8552feb337dbf01c 467 888 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _get_host_switches(self, host_id):
f1f13eedf62a7af4c1d3b132376e08551d5578b6 886 889 11
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Get switch IPs from configured host mapping.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 887 890
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
f1f13eedf62a7af4c1d3b132376e08551d5578b6 888 891
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        This method is used to extract switch information
f1f13eedf62a7af4c1d3b132376e08551d5578b6 889 892
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        from transactions where VNIC_TYPE is normal.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 890 893
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        Information is extracted from ini file which
f1f13eedf62a7af4c1d3b132376e08551d5578b6 891 894
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        is stored in _nexus_switches.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 892 895
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
f1f13eedf62a7af4c1d3b132376e08551d5578b6 893 896
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        :param host_id: host_name from transaction
f1f13eedf62a7af4c1d3b132376e08551d5578b6 894 897
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        :returns: list of all switches
f1f13eedf62a7af4c1d3b132376e08551d5578b6 895 898
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        :returns: list of only switches which are active
f1f13eedf62a7af4c1d3b132376e08551d5578b6 896 899
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """
536cf6cc91d680c45fdae07e8552feb337dbf01c 468 900 11
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
536cf6cc91d680c45fdae07e8552feb337dbf01c 469 901
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        all_switches = set()
536cf6cc91d680c45fdae07e8552feb337dbf01c 470 902
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        active_switches = set()
536cf6cc91d680c45fdae07e8552feb337dbf01c 471 903
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        for switch_ip, attr in self._nexus_switches:
536cf6cc91d680c45fdae07e8552feb337dbf01c 472 904
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if str(attr) == str(host_id):
536cf6cc91d680c45fdae07e8552feb337dbf01c 473 905
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                all_switches.add(switch_ip)
536cf6cc91d680c45fdae07e8552feb337dbf01c 474 906
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                if self.is_switch_active(switch_ip):
536cf6cc91d680c45fdae07e8552feb337dbf01c 475 907
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    active_switches.add(switch_ip)
536cf6cc91d680c45fdae07e8552feb337dbf01c 476 908
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
536cf6cc91d680c45fdae07e8552feb337dbf01c 477 909
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        return list(all_switches), list(active_switches)
536cf6cc91d680c45fdae07e8552feb337dbf01c 478 910
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 937 911 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _get_host_connections(self, host_id,
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 938 912
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                              only_active_switch=False):
f1f13eedf62a7af4c1d3b132376e08551d5578b6 910 913 12
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Get switch IPs and interfaces from config host mapping.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 911 914
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
f1f13eedf62a7af4c1d3b132376e08551d5578b6 912 915
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        This method is used to extract switch/interface
f1f13eedf62a7af4c1d3b132376e08551d5578b6 913 916
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        information from ini files when VNIC_TYPE is
f1f13eedf62a7af4c1d3b132376e08551d5578b6 914 917
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        normal.  The ini files contain host to interface
f1f13eedf62a7af4c1d3b132376e08551d5578b6 915 918
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        mappings.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 916 919
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
f1f13eedf62a7af4c1d3b132376e08551d5578b6 917 920
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        :param host_id: Host name from transaction
f1f13eedf62a7af4c1d3b132376e08551d5578b6 918 921
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        :param only_active_switch: Indicator for selecting only
f1f13eedf62a7af4c1d3b132376e08551d5578b6 919 922
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                   connections for switches that are active
f1f13eedf62a7af4c1d3b132376e08551d5578b6 920 923
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        :returns: list of switch_ip, intf_type, port_id, is_native
f1f13eedf62a7af4c1d3b132376e08551d5578b6 921 924
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 940 925 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
536cf6cc91d680c45fdae07e8552feb337dbf01c 480 926 5
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        host_found = False
536cf6cc91d680c45fdae07e8552feb337dbf01c 481 927
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        host_connections = []
536cf6cc91d680c45fdae07e8552feb337dbf01c 482 928
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        for switch_ip, attr in self._nexus_switches:
536cf6cc91d680c45fdae07e8552feb337dbf01c 483 929
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if str(attr) == str(host_id):
536cf6cc91d680c45fdae07e8552feb337dbf01c 484 930
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                host_found = True
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 946 931 3
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                if (only_active_switch and
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 947 932
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    not self.is_switch_active(switch_ip)):
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 948 933
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    continue
536cf6cc91d680c45fdae07e8552feb337dbf01c 486 934 4
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                self._gather_configured_ports(
536cf6cc91d680c45fdae07e8552feb337dbf01c 487 935
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    switch_ip, attr, host_connections)
536cf6cc91d680c45fdae07e8552feb337dbf01c 488 936
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
536cf6cc91d680c45fdae07e8552feb337dbf01c 489 937
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if not host_found:
1b9a4558b9803ae777fcb0353993f5eb3de0bf06 954 938 1
author Yatin Kumbhare
author-mail <yatinkumbhare@gmail.com>
author-time 1451976490
author-tz +0530
committer Sam Betts
committer-mail <sam@code-smash.net>
committer-time 1455273996
committer-tz +0000
summary LOG.warn -> LOG.warning
previous f3fa6b8744b6def33ff85ef1a210c893891aaea6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            LOG.warning(HOST_NOT_FOUND, host_id)
536cf6cc91d680c45fdae07e8552feb337dbf01c 491 939 3
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
536cf6cc91d680c45fdae07e8552feb337dbf01c 492 940
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        return host_connections
536cf6cc91d680c45fdae07e8552feb337dbf01c 493 941
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 957 942 8
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _get_port_connections(self, port, host_id,
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 958 943
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                              only_active_switch=False):
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 959 944
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if host_id:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 960 945
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return self._get_host_connections(
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 961 946
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                       host_id, only_active_switch)
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 962 947
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        else:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 963 948
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return self._get_baremetal_connections(
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 964 949
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                       port, only_active_switch)
b580a6b5566d5e22eef2fe8c0f89af3c4f731ffc 80 950 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1395948848
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1396016040
committer-tz -0400
summary ML2 Cisco Nexus MD: Support portchannel interfaces
previous 80c171bc4efb07ed2044558802b2c9b77a4cd6c4 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 966 951 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _get_active_port_connections(self, port, host_id):
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 967 952
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        return self._get_port_connections(port, host_id, True)
65491efbd9ea0843c00cb50ff4c89211862924de 273 953 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 975 954 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _get_known_baremetal_interfaces(self, requested_switch_ip):
f1f13eedf62a7af4c1d3b132376e08551d5578b6 952 955 9
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Get known baremetal interfaces from reserved DB.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 953 956
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
f1f13eedf62a7af4c1d3b132376e08551d5578b6 954 957
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        For a given switch, this returns all known RESERVED port
f1f13eedf62a7af4c1d3b132376e08551d5578b6 955 958
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        interfaces.  These have been learned from received
f1f13eedf62a7af4c1d3b132376e08551d5578b6 956 959
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        baremetal transactions.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 957 960
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
f1f13eedf62a7af4c1d3b132376e08551d5578b6 958 961
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        :param requested_switch_ip: switch_ip
f1f13eedf62a7af4c1d3b132376e08551d5578b6 959 962
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        :returns: list of switch_ip, intf_type, port_id, is_native
f1f13eedf62a7af4c1d3b132376e08551d5578b6 960 963
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """
05713dd328e060f6d9ef2da383171eb6007e94f2 78 964 1
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 978 965 3
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        switch_ifs = []
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 979 966
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 980 967
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        try:
f1f13eedf62a7af4c1d3b132376e08551d5578b6 965 968 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            port_info = nxos_db.get_reserved_port_binding(
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 984 969 5
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                            requested_switch_ip)
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 985 970
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        except excep.NexusPortBindingNotFound:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 986 971
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            port_info = []
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 987 972
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 988 973
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        for binding in port_info:
f1f13eedf62a7af4c1d3b132376e08551d5578b6 971 974 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            intf_type, port = self.split_interface_name(
f1f13eedf62a7af4c1d3b132376e08551d5578b6 972 975
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                  binding.port_id)
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 994 976 5
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            switch_ifs.append(
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 995 977
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                (requested_switch_ip, intf_type, port,
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 996 978
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                binding.is_native))
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 997 979
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        return switch_ifs
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 998 980
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1005 981 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _get_config_switch_interfaces(self, requested_switch_ip):
f1f13eedf62a7af4c1d3b132376e08551d5578b6 979 982 8
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Identify host entries to get interfaces.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 980 983
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
f1f13eedf62a7af4c1d3b132376e08551d5578b6 981 984
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        For a given switch, this returns all known configured port
f1f13eedf62a7af4c1d3b132376e08551d5578b6 982 985
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        interfaces.  These configured in the ml2_conf.ini file.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 983 986
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
f1f13eedf62a7af4c1d3b132376e08551d5578b6 984 987
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        :param requested_switch_ip: switch_ip
f1f13eedf62a7af4c1d3b132376e08551d5578b6 985 988
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        :returns: list of switch_ip, intf_type, port_id, is_native
f1f13eedf62a7af4c1d3b132376e08551d5578b6 986 989
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1007 990 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 470 991 13
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        switch_ifs = []
6df65927938b27e014042e4bebb3381a02ec19b5 471 992
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        defined_attributes = [const.USERNAME, const.PASSWORD, const.SSHPORT,
6df65927938b27e014042e4bebb3381a02ec19b5 472 993
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                              'physnet']
6df65927938b27e014042e4bebb3381a02ec19b5 473 994
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        for switch_ip, attr in self._nexus_switches:
6df65927938b27e014042e4bebb3381a02ec19b5 474 995
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            # if not in clearly defined attribute, it must be a host
6df65927938b27e014042e4bebb3381a02ec19b5 475 996
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            # with it's listed interfaces
6df65927938b27e014042e4bebb3381a02ec19b5 476 997
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if (switch_ip == requested_switch_ip and
6df65927938b27e014042e4bebb3381a02ec19b5 477 998
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                str(attr) not in defined_attributes):
6df65927938b27e014042e4bebb3381a02ec19b5 478 999
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                self._gather_configured_ports(
6df65927938b27e014042e4bebb3381a02ec19b5 479 1000
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    switch_ip, attr, switch_ifs)
6df65927938b27e014042e4bebb3381a02ec19b5 480 1001
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 481 1002
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        return switch_ifs
6df65927938b27e014042e4bebb3381a02ec19b5 482 1003
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1027 1004 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _get_switch_interfaces(self, requested_switch_ip):
f1f13eedf62a7af4c1d3b132376e08551d5578b6 1002 1005 8
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Get known baremetal and config interfaces.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 1003 1006
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
f1f13eedf62a7af4c1d3b132376e08551d5578b6 1004 1007
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        For a given switch, return known configured and baremetal
f1f13eedf62a7af4c1d3b132376e08551d5578b6 1005 1008
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        interfaces.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 1006 1009
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
f1f13eedf62a7af4c1d3b132376e08551d5578b6 1007 1010
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        :param requested_switch_ip: switch_ip
f1f13eedf62a7af4c1d3b132376e08551d5578b6 1008 1011
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        :returns: list of switch_ip, intf_type, port_id, is_native
f1f13eedf62a7af4c1d3b132376e08551d5578b6 1009 1012
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1029 1013 7
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1030 1014
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        all_switch_ifs = self._get_config_switch_interfaces(
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1031 1015
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                             requested_switch_ip)
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1032 1016
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        all_switch_ifs += self._get_known_baremetal_interfaces(
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1033 1017
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                              requested_switch_ip)
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1034 1018
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        return all_switch_ifs
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1035 1019
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 276 1020 15
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def get_switch_ips(self):
65491efbd9ea0843c00cb50ff4c89211862924de 277 1021
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        switch_connections = []
65491efbd9ea0843c00cb50ff4c89211862924de 278 1022
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        for switch_ip, attr in self._nexus_switches:
65491efbd9ea0843c00cb50ff4c89211862924de 279 1023
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if str(attr) == 'username':
65491efbd9ea0843c00cb50ff4c89211862924de 280 1024
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                switch_connections.append(switch_ip)
65491efbd9ea0843c00cb50ff4c89211862924de 281 1025
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 282 1026
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        return switch_connections
65491efbd9ea0843c00cb50ff4c89211862924de 283 1027
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 284 1028
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _get_switch_nve_info(self, host_id):
65491efbd9ea0843c00cb50ff4c89211862924de 285 1029
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        host_nve_connections = []
65491efbd9ea0843c00cb50ff4c89211862924de 286 1030
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        for switch_ip, attr in self._nexus_switches:
65491efbd9ea0843c00cb50ff4c89211862924de 287 1031
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if str(attr) == str(host_id):
65491efbd9ea0843c00cb50ff4c89211862924de 288 1032
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                host_nve_connections.append(switch_ip)
65491efbd9ea0843c00cb50ff4c89211862924de 289 1033
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 290 1034
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if not host_nve_connections:
1b9a4558b9803ae777fcb0353993f5eb3de0bf06 1052 1035 1
author Yatin Kumbhare
author-mail <yatinkumbhare@gmail.com>
author-time 1451976490
author-tz +0530
committer Sam Betts
committer-mail <sam@code-smash.net>
committer-time 1455273996
committer-tz +0000
summary LOG.warn -> LOG.warning
previous f3fa6b8744b6def33ff85ef1a210c893891aaea6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            LOG.warning(HOST_NOT_FOUND, host_id)
65491efbd9ea0843c00cb50ff4c89211862924de 292 1036 23
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 293 1037
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        return host_nve_connections
65491efbd9ea0843c00cb50ff4c89211862924de 294 1038
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 295 1039
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _configure_nve_db(self, vni, device_id, mcast_group, host_id):
65491efbd9ea0843c00cb50ff4c89211862924de 296 1040
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Create the nexus NVE database entry.
65491efbd9ea0843c00cb50ff4c89211862924de 297 1041
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 298 1042
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        Called during update precommit port event.
65491efbd9ea0843c00cb50ff4c89211862924de 299 1043
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """
65491efbd9ea0843c00cb50ff4c89211862924de 300 1044
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        host_nve_connections = self._get_switch_nve_info(host_id)
65491efbd9ea0843c00cb50ff4c89211862924de 301 1045
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        for switch_ip in host_nve_connections:
65491efbd9ea0843c00cb50ff4c89211862924de 302 1046
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if not nxos_db.get_nve_vni_member_bindings(vni, switch_ip,
65491efbd9ea0843c00cb50ff4c89211862924de 303 1047
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                                       device_id):
65491efbd9ea0843c00cb50ff4c89211862924de 304 1048
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                nxos_db.add_nexusnve_binding(vni, switch_ip, device_id,
65491efbd9ea0843c00cb50ff4c89211862924de 305 1049
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                             mcast_group)
65491efbd9ea0843c00cb50ff4c89211862924de 306 1050
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 307 1051
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _configure_nve_member(self, vni, device_id, mcast_group, host_id):
65491efbd9ea0843c00cb50ff4c89211862924de 308 1052
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Add "member vni" configuration to the NVE interface.
65491efbd9ea0843c00cb50ff4c89211862924de 309 1053
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 310 1054
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        Called during update postcommit port event.
65491efbd9ea0843c00cb50ff4c89211862924de 311 1055
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """
65491efbd9ea0843c00cb50ff4c89211862924de 312 1056
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        host_nve_connections = self._get_switch_nve_info(host_id)
65491efbd9ea0843c00cb50ff4c89211862924de 313 1057
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 314 1058
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        for switch_ip in host_nve_connections:
6b86a859db5fcf931df263b01e3bf1bd68f0797f 322 1059 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1441206642
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1441206671
committer-tz -0400
summary Bubble up exceptions when Nexus replay enabled
previous 46d364dc9f3b24e654939f822ea048e3cbf227c6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 318 1060 9
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            # If configured to set global VXLAN values then
65491efbd9ea0843c00cb50ff4c89211862924de 319 1061
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            #   If this is the first database entry for this switch_ip
65491efbd9ea0843c00cb50ff4c89211862924de 320 1062
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            #   then configure the "interface nve" entry on the switch.
65491efbd9ea0843c00cb50ff4c89211862924de 321 1063
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if cfg.CONF.ml2_cisco.vxlan_global_config:
65491efbd9ea0843c00cb50ff4c89211862924de 322 1064
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                nve_bindings = nxos_db.get_nve_switch_bindings(switch_ip)
65491efbd9ea0843c00cb50ff4c89211862924de 323 1065
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                if len(nve_bindings) == 1:
65491efbd9ea0843c00cb50ff4c89211862924de 324 1066
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    LOG.debug("Nexus: create NVE interface")
65491efbd9ea0843c00cb50ff4c89211862924de 325 1067
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    loopback = self._nexus_switches.get(
65491efbd9ea0843c00cb50ff4c89211862924de 326 1068
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                        (switch_ip, 'nve_src_intf'), '0')
65491efbd9ea0843c00cb50ff4c89211862924de 328 1069 2
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    self.driver.enable_vxlan_feature(switch_ip,
65491efbd9ea0843c00cb50ff4c89211862924de 329 1070
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        const.NVE_INT_NUM, loopback)
65491efbd9ea0843c00cb50ff4c89211862924de 336 1071 7
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 337 1072
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            # If this is the first database entry for this (VNI, switch_ip)
65491efbd9ea0843c00cb50ff4c89211862924de 338 1073
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            # then configure the "member vni #" entry on the switch.
65491efbd9ea0843c00cb50ff4c89211862924de 339 1074
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            member_bindings = nxos_db.get_nve_vni_switch_bindings(vni,
65491efbd9ea0843c00cb50ff4c89211862924de 340 1075
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                                                  switch_ip)
65491efbd9ea0843c00cb50ff4c89211862924de 341 1076
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if len(member_bindings) == 1:
65491efbd9ea0843c00cb50ff4c89211862924de 342 1077
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                LOG.debug("Nexus: add member")
65491efbd9ea0843c00cb50ff4c89211862924de 344 1078 2
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                self.driver.create_nve_member(switch_ip, const.NVE_INT_NUM,
65491efbd9ea0843c00cb50ff4c89211862924de 345 1079
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                              vni, mcast_group)
65491efbd9ea0843c00cb50ff4c89211862924de 351 1080 17
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 352 1081
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _delete_nve_db(self, vni, device_id, mcast_group, host_id):
65491efbd9ea0843c00cb50ff4c89211862924de 353 1082
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Delete the nexus NVE database entry.
65491efbd9ea0843c00cb50ff4c89211862924de 354 1083
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 355 1084
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        Called during delete precommit port event.
65491efbd9ea0843c00cb50ff4c89211862924de 356 1085
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """
65491efbd9ea0843c00cb50ff4c89211862924de 357 1086
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        rows = nxos_db.get_nve_vni_deviceid_bindings(vni, device_id)
65491efbd9ea0843c00cb50ff4c89211862924de 358 1087
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        for row in rows:
65491efbd9ea0843c00cb50ff4c89211862924de 359 1088
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            nxos_db.remove_nexusnve_binding(vni, row.switch_ip, device_id)
65491efbd9ea0843c00cb50ff4c89211862924de 360 1089
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 361 1090
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _delete_nve_member(self, vni, device_id, mcast_group, host_id):
65491efbd9ea0843c00cb50ff4c89211862924de 362 1091
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Remove "member vni" configuration from the NVE interface.
65491efbd9ea0843c00cb50ff4c89211862924de 363 1092
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 364 1093
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        Called during delete postcommit port event.
65491efbd9ea0843c00cb50ff4c89211862924de 365 1094
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """
65491efbd9ea0843c00cb50ff4c89211862924de 366 1095
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        host_nve_connections = self._get_switch_nve_info(host_id)
65491efbd9ea0843c00cb50ff4c89211862924de 367 1096
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        for switch_ip in host_nve_connections:
41c57a9fb6ad318e36ed50a3f2e246ece139ff42 577 1097 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1446745680
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1447420552
committer-tz -0500
summary Continue update unit tests with new Nexus output
previous 5adaa559b23478ebce7d9f27abf91da0a78ba808 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 372 1098 6
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if not nxos_db.get_nve_vni_switch_bindings(vni, switch_ip):
65491efbd9ea0843c00cb50ff4c89211862924de 373 1099
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                self.driver.delete_nve_member(switch_ip,
65491efbd9ea0843c00cb50ff4c89211862924de 374 1100
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    const.NVE_INT_NUM, vni)
65491efbd9ea0843c00cb50ff4c89211862924de 375 1101
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if (cfg.CONF.ml2_cisco.vxlan_global_config and
65491efbd9ea0843c00cb50ff4c89211862924de 376 1102
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                not nxos_db.get_nve_switch_bindings(switch_ip)):
65491efbd9ea0843c00cb50ff4c89211862924de 377 1103
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                self.driver.disable_vxlan_feature(switch_ip)
65491efbd9ea0843c00cb50ff4c89211862924de 383 1104 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1121 1105 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _configure_nxos_db(self, port, vlan_id, device_id, host_id, vni,
65491efbd9ea0843c00cb50ff4c89211862924de 385 1106 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                           is_provider_vlan):
05713dd328e060f6d9ef2da383171eb6007e94f2 80 1107 3
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Create the nexus database entry.
05713dd328e060f6d9ef2da383171eb6007e94f2 81 1108
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
05713dd328e060f6d9ef2da383171eb6007e94f2 82 1109
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        Called during update precommit port event.
05713dd328e060f6d9ef2da383171eb6007e94f2 84 1110 1
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1127 1111 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        host_connections = self._get_port_connections(port, host_id)
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1128 1112
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        for switch_ip, intf_type, nexus_port, is_native in host_connections:
f1f13eedf62a7af4c1d3b132376e08551d5578b6 1110 1113 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            port_id = self.format_interface_name(intf_type, nexus_port)
66b24263ee9e860167aae50cb17f752a8f2e959e 383 1114 4
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1428950134
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1428950199
committer-tz -0400
summary ML2 Cisco Nexus MD: Duplicate port database entries
previous 8f701200dc41efb46b33e294dfb9ef5009b19852 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            try:
66b24263ee9e860167aae50cb17f752a8f2e959e 384 1115
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1428950134
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1428950199
committer-tz -0400
summary ML2 Cisco Nexus MD: Duplicate port database entries
previous 8f701200dc41efb46b33e294dfb9ef5009b19852 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                nxos_db.get_nexusport_binding(port_id, vlan_id, switch_ip,
66b24263ee9e860167aae50cb17f752a8f2e959e 385 1116
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1428950134
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1428950199
committer-tz -0400
summary ML2 Cisco Nexus MD: Duplicate port database entries
previous 8f701200dc41efb46b33e294dfb9ef5009b19852 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                              device_id)
66b24263ee9e860167aae50cb17f752a8f2e959e 386 1117
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1428950134
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1428950199
committer-tz -0400
summary ML2 Cisco Nexus MD: Duplicate port database entries
previous 8f701200dc41efb46b33e294dfb9ef5009b19852 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            except excep.NexusPortBindingNotFound:
65491efbd9ea0843c00cb50ff4c89211862924de 393 1118 2
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                nxos_db.add_nexusport_binding(port_id, str(vlan_id), str(vni),
65491efbd9ea0843c00cb50ff4c89211862924de 394 1119
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                              switch_ip, device_id,
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1136 1120 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                              is_provider_vlan,
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1137 1121
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                              is_native)
65491efbd9ea0843c00cb50ff4c89211862924de 396 1122 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 584 1123 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _gather_config_parms(self, is_provider_vlan, vlan_id):
6df65927938b27e014042e4bebb3381a02ec19b5 585 1124
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Determine vlan_name, auto_create, auto_trunk from config."""
65491efbd9ea0843c00cb50ff4c89211862924de 407 1125 8
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if is_provider_vlan:
65491efbd9ea0843c00cb50ff4c89211862924de 408 1126
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            vlan_name = cfg.CONF.ml2_cisco.provider_vlan_name_prefix
65491efbd9ea0843c00cb50ff4c89211862924de 409 1127
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            auto_create = cfg.CONF.ml2_cisco.provider_vlan_auto_create
65491efbd9ea0843c00cb50ff4c89211862924de 410 1128
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            auto_trunk = cfg.CONF.ml2_cisco.provider_vlan_auto_trunk
65491efbd9ea0843c00cb50ff4c89211862924de 411 1129
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        else:
65491efbd9ea0843c00cb50ff4c89211862924de 412 1130
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            vlan_name = cfg.CONF.ml2_cisco.vlan_name_prefix
65491efbd9ea0843c00cb50ff4c89211862924de 413 1131
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            auto_create = True
65491efbd9ea0843c00cb50ff4c89211862924de 414 1132
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            auto_trunk = True
6df65927938b27e014042e4bebb3381a02ec19b5 594 1133 3
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if auto_create:
6df65927938b27e014042e4bebb3381a02ec19b5 595 1134
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            vlan_name_max_len = (
6df65927938b27e014042e4bebb3381a02ec19b5 596 1135
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                const.NEXUS_MAX_VLAN_NAME_LEN - len(str(vlan_id)))
65491efbd9ea0843c00cb50ff4c89211862924de 416 1136 2
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if len(vlan_name) > vlan_name_max_len:
65491efbd9ea0843c00cb50ff4c89211862924de 417 1137
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                vlan_name = vlan_name[:vlan_name_max_len]
1b9a4558b9803ae777fcb0353993f5eb3de0bf06 1155 1138 1
author Yatin Kumbhare
author-mail <yatinkumbhare@gmail.com>
author-time 1451976490
author-tz +0530
committer Sam Betts
committer-mail <sam@code-smash.net>
committer-time 1455273996
committer-tz +0000
summary LOG.warn -> LOG.warning
previous f3fa6b8744b6def33ff85ef1a210c893891aaea6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                LOG.warning(_LW("Nexus: truncating vlan name to %s"),
6df65927938b27e014042e4bebb3381a02ec19b5 600 1139 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                            vlan_name)
65491efbd9ea0843c00cb50ff4c89211862924de 419 1140 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            vlan_name = vlan_name + str(vlan_id)
6df65927938b27e014042e4bebb3381a02ec19b5 602 1141 3
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        return vlan_name, auto_create, auto_trunk
6df65927938b27e014042e4bebb3381a02ec19b5 603 1142
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 604 1143
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _configure_port_binding(self, is_provider_vlan, duplicate_type,
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1160 1144 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                is_native,
6df65927938b27e014042e4bebb3381a02ec19b5 605 1145 11
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                switch_ip, vlan_id,
6df65927938b27e014042e4bebb3381a02ec19b5 606 1146
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                intf_type, nexus_port, vni):
6df65927938b27e014042e4bebb3381a02ec19b5 607 1147
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Conditionally calls vlan and port Nexus drivers."""
6df65927938b27e014042e4bebb3381a02ec19b5 608 1148
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 609 1149
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # This implies VLAN, VNI, and Port are all duplicate.
6df65927938b27e014042e4bebb3381a02ec19b5 610 1150
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # Then there is nothing to configure in Nexus.
6df65927938b27e014042e4bebb3381a02ec19b5 611 1151
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if duplicate_type == const.DUPLICATE_PORT:
6df65927938b27e014042e4bebb3381a02ec19b5 612 1152
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return
6df65927938b27e014042e4bebb3381a02ec19b5 613 1153
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 614 1154
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        vlan_name, auto_create, auto_trunk = self._gather_config_parms(
6df65927938b27e014042e4bebb3381a02ec19b5 615 1155
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            is_provider_vlan, vlan_id)
65491efbd9ea0843c00cb50ff4c89211862924de 420 1156 6
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 421 1157
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # if type DUPLICATE_VLAN, don't create vlan
65491efbd9ea0843c00cb50ff4c89211862924de 422 1158
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if duplicate_type == const.DUPLICATE_VLAN:
65491efbd9ea0843c00cb50ff4c89211862924de 423 1159
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            auto_create = False
65491efbd9ea0843c00cb50ff4c89211862924de 424 1160
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 425 1161
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if auto_create and auto_trunk:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1178 1162 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            LOG.debug("Nexus: create vlan %s and add to interface",
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1179 1163
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                vlan_name)
65491efbd9ea0843c00cb50ff4c89211862924de 427 1164 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            self.driver.create_and_trunk_vlan(
6df65927938b27e014042e4bebb3381a02ec19b5 624 1165 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                switch_ip, vlan_id, vlan_name, intf_type,
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1182 1166 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                nexus_port, vni, is_native)
65491efbd9ea0843c00cb50ff4c89211862924de 430 1167 2
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        elif auto_create:
65491efbd9ea0843c00cb50ff4c89211862924de 431 1168
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            LOG.debug("Nexus: create vlan %s", vlan_name)
6df65927938b27e014042e4bebb3381a02ec19b5 628 1169 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            self.driver.create_vlan_segment(switch_ip, vlan_id,
6df65927938b27e014042e4bebb3381a02ec19b5 629 1170
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                    vlan_name, vni)
65491efbd9ea0843c00cb50ff4c89211862924de 433 1171 2
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        elif auto_trunk:
65491efbd9ea0843c00cb50ff4c89211862924de 434 1172
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            LOG.debug("Nexus: trunk vlan %s", vlan_name)
6df65927938b27e014042e4bebb3381a02ec19b5 632 1173 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            self.driver.send_enable_vlan_on_trunk_int(
6df65927938b27e014042e4bebb3381a02ec19b5 633 1174
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                switch_ip, vlan_id,
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1191 1175 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                intf_type, nexus_port, is_native)
6df65927938b27e014042e4bebb3381a02ec19b5 635 1176 48
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 636 1177
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _get_compressed_vlan_list(self, pvlan_ids):
6df65927938b27e014042e4bebb3381a02ec19b5 637 1178
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Generate a compressed vlan list ready for XML using a vlan set.
6df65927938b27e014042e4bebb3381a02ec19b5 638 1179
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 639 1180
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        Sample Use Case:
6df65927938b27e014042e4bebb3381a02ec19b5 640 1181
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 641 1182
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        Input vlan set:
6df65927938b27e014042e4bebb3381a02ec19b5 642 1183
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        --------------
6df65927938b27e014042e4bebb3381a02ec19b5 643 1184
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        1 - s = set([11, 50, 25, 30, 15, 16, 3, 8, 2, 1])
6df65927938b27e014042e4bebb3381a02ec19b5 644 1185
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        2 - s = set([87, 11, 50, 25, 30, 15, 16, 3, 8, 2, 1, 88])
6df65927938b27e014042e4bebb3381a02ec19b5 645 1186
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 646 1187
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        Returned compressed XML list:
6df65927938b27e014042e4bebb3381a02ec19b5 647 1188
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        ----------------------------
6df65927938b27e014042e4bebb3381a02ec19b5 648 1189
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        1 - compressed_list = ['1-3', '8', '11', '15-16', '25', '30', '50']
6df65927938b27e014042e4bebb3381a02ec19b5 649 1190
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        2 - compressed_list = ['1-3', '8', '11', '15-16', '25', '30',
6df65927938b27e014042e4bebb3381a02ec19b5 650 1191
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                               '50', '87-88']
6df65927938b27e014042e4bebb3381a02ec19b5 651 1192
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """
6df65927938b27e014042e4bebb3381a02ec19b5 652 1193
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 653 1194
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if not pvlan_ids:
6df65927938b27e014042e4bebb3381a02ec19b5 654 1195
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return []
6df65927938b27e014042e4bebb3381a02ec19b5 655 1196
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 656 1197
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        pvlan_list = list(pvlan_ids)
6df65927938b27e014042e4bebb3381a02ec19b5 657 1198
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        pvlan_list.sort()
6df65927938b27e014042e4bebb3381a02ec19b5 658 1199
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        compressed_list = []
6df65927938b27e014042e4bebb3381a02ec19b5 659 1200
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        begin = -1
6df65927938b27e014042e4bebb3381a02ec19b5 660 1201
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        prev_vlan = -1
6df65927938b27e014042e4bebb3381a02ec19b5 661 1202
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        for port_vlan in pvlan_list:
6df65927938b27e014042e4bebb3381a02ec19b5 662 1203
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if prev_vlan == -1:
6df65927938b27e014042e4bebb3381a02ec19b5 663 1204
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                prev_vlan = port_vlan
6df65927938b27e014042e4bebb3381a02ec19b5 664 1205
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            else:
6df65927938b27e014042e4bebb3381a02ec19b5 665 1206
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                if (port_vlan - prev_vlan) == 1:
6df65927938b27e014042e4bebb3381a02ec19b5 666 1207
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    if begin == -1:
6df65927938b27e014042e4bebb3381a02ec19b5 667 1208
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        begin = prev_vlan
6df65927938b27e014042e4bebb3381a02ec19b5 668 1209
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    prev_vlan = port_vlan
6df65927938b27e014042e4bebb3381a02ec19b5 669 1210
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                else:
6df65927938b27e014042e4bebb3381a02ec19b5 670 1211
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    if begin == -1:
6df65927938b27e014042e4bebb3381a02ec19b5 671 1212
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        compressed_list.append(str(prev_vlan))
6df65927938b27e014042e4bebb3381a02ec19b5 672 1213
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    else:
6df65927938b27e014042e4bebb3381a02ec19b5 673 1214
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        compressed_list.append("%d-%d" % (begin, prev_vlan))
6df65927938b27e014042e4bebb3381a02ec19b5 674 1215
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        begin = -1
6df65927938b27e014042e4bebb3381a02ec19b5 675 1216
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    prev_vlan = port_vlan
6df65927938b27e014042e4bebb3381a02ec19b5 676 1217
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 677 1218
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if begin == -1:
6df65927938b27e014042e4bebb3381a02ec19b5 678 1219
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            compressed_list.append(str(prev_vlan))
6df65927938b27e014042e4bebb3381a02ec19b5 679 1220
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        else:
6df65927938b27e014042e4bebb3381a02ec19b5 680 1221
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            compressed_list.append("%s-%s" % (begin, prev_vlan))
6df65927938b27e014042e4bebb3381a02ec19b5 681 1222
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        return compressed_list
6df65927938b27e014042e4bebb3381a02ec19b5 682 1223
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
41c57a9fb6ad318e36ed50a3f2e246ece139ff42 707 1224 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1446745680
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1447420552
committer-tz -0500
summary Continue update unit tests with new Nexus output
previous 5adaa559b23478ebce7d9f27abf91da0a78ba808 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _restore_port_binding(self,
6df65927938b27e014042e4bebb3381a02ec19b5 684 1225 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                             switch_ip, pvlan_ids,
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1242 1226 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                             port, is_native):
6df65927938b27e014042e4bebb3381a02ec19b5 686 1227 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Restores a set of vlans for a given port."""
6df65927938b27e014042e4bebb3381a02ec19b5 687 1228
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
f1f13eedf62a7af4c1d3b132376e08551d5578b6 1226 1229 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        intf_type, nexus_port = self.split_interface_name(port)
6df65927938b27e014042e4bebb3381a02ec19b5 692 1230 14
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 693 1231
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        concat_vlans = ''
6df65927938b27e014042e4bebb3381a02ec19b5 694 1232
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        compressed_vlans = self._get_compressed_vlan_list(pvlan_ids)
6df65927938b27e014042e4bebb3381a02ec19b5 695 1233
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        for pvlan in compressed_vlans:
6df65927938b27e014042e4bebb3381a02ec19b5 696 1234
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 697 1235
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if concat_vlans == '':
6df65927938b27e014042e4bebb3381a02ec19b5 698 1236
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                concat_vlans = "%s" % pvlan
6df65927938b27e014042e4bebb3381a02ec19b5 699 1237
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            else:
6df65927938b27e014042e4bebb3381a02ec19b5 700 1238
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                concat_vlans += ",%s" % pvlan
6df65927938b27e014042e4bebb3381a02ec19b5 701 1239
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 702 1240
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            # if string starts getting a bit long, send it.
6df65927938b27e014042e4bebb3381a02ec19b5 703 1241
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if len(concat_vlans) >= const.CREATE_PORT_VLAN_LENGTH:
6df65927938b27e014042e4bebb3381a02ec19b5 704 1242
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                self.driver.send_enable_vlan_on_trunk_int(
6df65927938b27e014042e4bebb3381a02ec19b5 705 1243
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    switch_ip, concat_vlans,
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1263 1244 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    intf_type, nexus_port, is_native)
6df65927938b27e014042e4bebb3381a02ec19b5 707 1245 6
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                concat_vlans = ''
6df65927938b27e014042e4bebb3381a02ec19b5 708 1246
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 709 1247
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # Send remaining vlans if any
6df65927938b27e014042e4bebb3381a02ec19b5 710 1248
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if len(concat_vlans):
6df65927938b27e014042e4bebb3381a02ec19b5 711 1249
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            self.driver.send_enable_vlan_on_trunk_int(
6df65927938b27e014042e4bebb3381a02ec19b5 712 1250
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    switch_ip, concat_vlans,
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1270 1251 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    intf_type, nexus_port, is_native)
65491efbd9ea0843c00cb50ff4c89211862924de 437 1252 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 715 1253 27
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _restore_vxlan_entries(self, switch_ip, vlans):
6df65927938b27e014042e4bebb3381a02ec19b5 716 1254
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Restore vxlan entries on a Nexus switch."""
6df65927938b27e014042e4bebb3381a02ec19b5 717 1255
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 718 1256
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        count = 1
6df65927938b27e014042e4bebb3381a02ec19b5 719 1257
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        conf_str = ''
6df65927938b27e014042e4bebb3381a02ec19b5 720 1258
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        vnsegment_sent = 0
6df65927938b27e014042e4bebb3381a02ec19b5 721 1259
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # At this time, this will only configure vni information when needed
6df65927938b27e014042e4bebb3381a02ec19b5 722 1260
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        while vnsegment_sent < const.CREATE_VLAN_BATCH and vlans:
6df65927938b27e014042e4bebb3381a02ec19b5 723 1261
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            vlan_id, vni, vlan_name = vlans.pop(0)
6df65927938b27e014042e4bebb3381a02ec19b5 724 1262
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            # Add it to the batch
6df65927938b27e014042e4bebb3381a02ec19b5 725 1263
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            conf_str += self.driver.get_create_vlan(
6df65927938b27e014042e4bebb3381a02ec19b5 726 1264
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                            switch_ip, vlan_id, vni)
6df65927938b27e014042e4bebb3381a02ec19b5 727 1265
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if (count == const.CREATE_VLAN_SEND_SIZE):
6df65927938b27e014042e4bebb3381a02ec19b5 728 1266
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                self.driver.send_edit_string(switch_ip, conf_str)
6df65927938b27e014042e4bebb3381a02ec19b5 729 1267
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                vnsegment_sent += count
6df65927938b27e014042e4bebb3381a02ec19b5 730 1268
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                conf_str = ''
6df65927938b27e014042e4bebb3381a02ec19b5 731 1269
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                count = 1
6df65927938b27e014042e4bebb3381a02ec19b5 732 1270
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            else:
6df65927938b27e014042e4bebb3381a02ec19b5 733 1271
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                count += 1
6df65927938b27e014042e4bebb3381a02ec19b5 734 1272
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 735 1273
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if conf_str:
6df65927938b27e014042e4bebb3381a02ec19b5 736 1274
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            vnsegment_sent += count
6df65927938b27e014042e4bebb3381a02ec19b5 737 1275
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            self.driver.send_edit_string(switch_ip, conf_str)
6df65927938b27e014042e4bebb3381a02ec19b5 738 1276
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            conf_str = ''
6df65927938b27e014042e4bebb3381a02ec19b5 739 1277
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        LOG.debug("Switch %s VLAN vn-segment replay summary: %d",
6df65927938b27e014042e4bebb3381a02ec19b5 740 1278
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                  switch_ip, vnsegment_sent)
6df65927938b27e014042e4bebb3381a02ec19b5 741 1279
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1299 1280 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _configure_port_entries(self, port, vlan_id, device_id, host_id, vni,
65491efbd9ea0843c00cb50ff4c89211862924de 439 1281 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                is_provider_vlan):
05713dd328e060f6d9ef2da383171eb6007e94f2 90 1282 2
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Create a nexus switch entry.
05713dd328e060f6d9ef2da383171eb6007e94f2 91 1283
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 442 1284 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if needed, create a VLAN in the appropriate switch or port and
05713dd328e060f6d9ef2da383171eb6007e94f2 93 1285 3
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        configure the appropriate interfaces for this VLAN.
05713dd328e060f6d9ef2da383171eb6007e94f2 94 1286
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
05713dd328e060f6d9ef2da383171eb6007e94f2 95 1287
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        Called during update postcommit port event.
05713dd328e060f6d9ef2da383171eb6007e94f2 97 1288 1
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1308 1289 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        connections = self._get_active_port_connections(port, host_id)
05713dd328e060f6d9ef2da383171eb6007e94f2 100 1290 1
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
3f012a657414f9a8016ff685147f39463ac17023 104 1291 4
author Britt Houser
author-mail <bhouser@cisco.com>
author-time 1407527151
author-tz -0400
committer Britt Houser
committer-mail <bhouser@cisco.com>
committer-time 1408300409
committer-tz -0400
summary Change nexus_dict to accept port lists
previous 672a4518902786b0606f7e4977bad47b011f9af2 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # (nexus_port,switch_ip) will be unique in each iteration.
3f012a657414f9a8016ff685147f39463ac17023 105 1292
author Britt Houser
author-mail <bhouser@cisco.com>
author-time 1407527151
author-tz -0400
committer Britt Houser
committer-mail <bhouser@cisco.com>
committer-time 1408300409
committer-tz -0400
summary Change nexus_dict to accept port lists
previous 672a4518902786b0606f7e4977bad47b011f9af2 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # But switch_ip will repeat if host has >1 connection to same switch.
3f012a657414f9a8016ff685147f39463ac17023 106 1293
author Britt Houser
author-mail <bhouser@cisco.com>
author-time 1407527151
author-tz -0400
committer Britt Houser
committer-mail <bhouser@cisco.com>
committer-time 1408300409
committer-tz -0400
summary Change nexus_dict to accept port lists
previous 672a4518902786b0606f7e4977bad47b011f9af2 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # So track which switch_ips already have vlan created in this loop.
3f012a657414f9a8016ff685147f39463ac17023 107 1294
author Britt Houser
author-mail <bhouser@cisco.com>
author-time 1407527151
author-tz -0400
committer Britt Houser
committer-mail <bhouser@cisco.com>
committer-time 1408300409
committer-tz -0400
summary Change nexus_dict to accept port lists
previous 672a4518902786b0606f7e4977bad47b011f9af2 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        vlan_already_created = []
6df65927938b27e014042e4bebb3381a02ec19b5 757 1295 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        starttime = time.time()
3f012a657414f9a8016ff685147f39463ac17023 109 1296 1
author Britt Houser
author-mail <bhouser@cisco.com>
author-time 1407527151
author-tz -0400
committer Britt Houser
committer-mail <bhouser@cisco.com>
committer-time 1408300409
committer-tz -0400
summary Change nexus_dict to accept port lists
previous 672a4518902786b0606f7e4977bad47b011f9af2 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1316 1297 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        for switch_ip, intf_type, nexus_port, is_native in connections:
6df65927938b27e014042e4bebb3381a02ec19b5 765 1298 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
3f012a657414f9a8016ff685147f39463ac17023 116 1299 3
author Britt Houser
author-mail <bhouser@cisco.com>
author-time 1407527151
author-tz -0400
committer Britt Houser
committer-mail <bhouser@cisco.com>
committer-time 1408300409
committer-tz -0400
summary Change nexus_dict to accept port lists
previous 672a4518902786b0606f7e4977bad47b011f9af2 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            all_bindings = nxos_db.get_nexusvlan_binding(vlan_id, switch_ip)
3f012a657414f9a8016ff685147f39463ac17023 117 1300
author Britt Houser
author-mail <bhouser@cisco.com>
author-time 1407527151
author-tz -0400
committer Britt Houser
committer-mail <bhouser@cisco.com>
committer-time 1408300409
committer-tz -0400
summary Change nexus_dict to accept port lists
previous 672a4518902786b0606f7e4977bad47b011f9af2 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            previous_bindings = [row for row in all_bindings
3f012a657414f9a8016ff685147f39463ac17023 118 1301
author Britt Houser
author-mail <bhouser@cisco.com>
author-time 1407527151
author-tz -0400
committer Britt Houser
committer-mail <bhouser@cisco.com>
committer-time 1408300409
committer-tz -0400
summary Change nexus_dict to accept port lists
previous 672a4518902786b0606f7e4977bad47b011f9af2 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    if row.instance_id != device_id]
8e7017c8ba6c0d5cc5ef6f250c4a572556fd70a4 451 1302 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1446559734
author-tz -0500
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1446562397
committer-tz -0500
summary ML2 Cisco Nexus MD: VLAN/trunk config not created on all switches
previous 8a5190d35ad6414a7ceda09fffd3a402f4ad6a5d networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if previous_bindings and (switch_ip in vlan_already_created):
65491efbd9ea0843c00cb50ff4c89211862924de 474 1303 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                duplicate_type = const.DUPLICATE_VLAN
3f012a657414f9a8016ff685147f39463ac17023 123 1304 2
author Britt Houser
author-mail <bhouser@cisco.com>
author-time 1407527151
author-tz -0400
committer Britt Houser
committer-mail <bhouser@cisco.com>
committer-time 1408300409
committer-tz -0400
summary Change nexus_dict to accept port lists
previous 672a4518902786b0606f7e4977bad47b011f9af2 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            else:
3f012a657414f9a8016ff685147f39463ac17023 124 1305
author Britt Houser
author-mail <bhouser@cisco.com>
author-time 1407527151
author-tz -0400
committer Britt Houser
committer-mail <bhouser@cisco.com>
committer-time 1408300409
committer-tz -0400
summary Change nexus_dict to accept port lists
previous 672a4518902786b0606f7e4977bad47b011f9af2 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                vlan_already_created.append(switch_ip)
65491efbd9ea0843c00cb50ff4c89211862924de 477 1306 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                duplicate_type = const.NO_DUPLICATE
6df65927938b27e014042e4bebb3381a02ec19b5 774 1307 4
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            port_starttime = time.time()
6df65927938b27e014042e4bebb3381a02ec19b5 775 1308
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            try:
6df65927938b27e014042e4bebb3381a02ec19b5 776 1309
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                self._configure_port_binding(
6df65927938b27e014042e4bebb3381a02ec19b5 777 1310
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    is_provider_vlan, duplicate_type,
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1330 1311 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    is_native,
65491efbd9ea0843c00cb50ff4c89211862924de 481 1312 3
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    switch_ip, vlan_id,
65491efbd9ea0843c00cb50ff4c89211862924de 482 1313
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    intf_type, nexus_port,
65491efbd9ea0843c00cb50ff4c89211862924de 483 1314
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    vni)
6df65927938b27e014042e4bebb3381a02ec19b5 781 1315 24
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            except Exception:
6df65927938b27e014042e4bebb3381a02ec19b5 782 1316
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                with excutils.save_and_reraise_exception():
6df65927938b27e014042e4bebb3381a02ec19b5 783 1317
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    self.driver.capture_and_print_timeshot(
6df65927938b27e014042e4bebb3381a02ec19b5 784 1318
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        port_starttime, "port_configerr",
6df65927938b27e014042e4bebb3381a02ec19b5 785 1319
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        switch=switch_ip)
6df65927938b27e014042e4bebb3381a02ec19b5 786 1320
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    self.driver.capture_and_print_timeshot(
6df65927938b27e014042e4bebb3381a02ec19b5 787 1321
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        starttime, "configerr",
6df65927938b27e014042e4bebb3381a02ec19b5 788 1322
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        switch=switch_ip)
6df65927938b27e014042e4bebb3381a02ec19b5 789 1323
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            self.driver.capture_and_print_timeshot(
6df65927938b27e014042e4bebb3381a02ec19b5 790 1324
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                port_starttime, "port_config",
6df65927938b27e014042e4bebb3381a02ec19b5 791 1325
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                switch=switch_ip)
6df65927938b27e014042e4bebb3381a02ec19b5 792 1326
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        self.driver.capture_and_print_timeshot(
6df65927938b27e014042e4bebb3381a02ec19b5 793 1327
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            starttime, "config")
6df65927938b27e014042e4bebb3381a02ec19b5 794 1328
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 795 1329
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def configure_next_batch_of_vlans(self, switch_ip):
6df65927938b27e014042e4bebb3381a02ec19b5 796 1330
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Get next batch of vlans and send them to Nexus."""
6df65927938b27e014042e4bebb3381a02ec19b5 797 1331
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 798 1332
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        next_range = self._pop_vlan_range(
6df65927938b27e014042e4bebb3381a02ec19b5 799 1333
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                          switch_ip, const.CREATE_VLAN_BATCH)
6df65927938b27e014042e4bebb3381a02ec19b5 800 1334
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if next_range:
6df65927938b27e014042e4bebb3381a02ec19b5 801 1335
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            try:
6df65927938b27e014042e4bebb3381a02ec19b5 802 1336
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                self.driver.set_all_vlan_states(
6df65927938b27e014042e4bebb3381a02ec19b5 803 1337
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    switch_ip, next_range)
6df65927938b27e014042e4bebb3381a02ec19b5 804 1338
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            except Exception:
41c57a9fb6ad318e36ed50a3f2e246ece139ff42 829 1339 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1446745680
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1447420552
committer-tz -0500
summary Continue update unit tests with new Nexus output
previous 5adaa559b23478ebce7d9f27abf91da0a78ba808 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                with excutils.save_and_reraise_exception():
6df65927938b27e014042e4bebb3381a02ec19b5 805 1340 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    LOG.error(_LE("Error encountered restoring vlans "
41c57a9fb6ad318e36ed50a3f2e246ece139ff42 831 1341 3
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1446745680
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1447420552
committer-tz -0500
summary Continue update unit tests with new Nexus output
previous 5adaa559b23478ebce7d9f27abf91da0a78ba808 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        "for switch %(switch_ip)s"),
41c57a9fb6ad318e36ed50a3f2e246ece139ff42 832 1342
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1446745680
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1447420552
committer-tz -0500
summary Continue update unit tests with new Nexus output
previous 5adaa559b23478ebce7d9f27abf91da0a78ba808 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        {'switch_ip': switch_ip})
41c57a9fb6ad318e36ed50a3f2e246ece139ff42 833 1343
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1446745680
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1447420552
committer-tz -0500
summary Continue update unit tests with new Nexus output
previous 5adaa559b23478ebce7d9f27abf91da0a78ba808 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    self._save_switch_vlan_range(switch_ip, [])
6df65927938b27e014042e4bebb3381a02ec19b5 808 1344 3
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 809 1345
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        vxlan_range = self._get_switch_vxlan_range(switch_ip)
6df65927938b27e014042e4bebb3381a02ec19b5 810 1346
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if vxlan_range:
41c57a9fb6ad318e36ed50a3f2e246ece139ff42 837 1347 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1446745680
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1447420552
committer-tz -0500
summary Continue update unit tests with new Nexus output
previous 5adaa559b23478ebce7d9f27abf91da0a78ba808 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            try:
6df65927938b27e014042e4bebb3381a02ec19b5 811 1348 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                self._restore_vxlan_entries(switch_ip, vxlan_range)
41c57a9fb6ad318e36ed50a3f2e246ece139ff42 839 1349 6
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1446745680
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1447420552
committer-tz -0500
summary Continue update unit tests with new Nexus output
previous 5adaa559b23478ebce7d9f27abf91da0a78ba808 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            except Exception:
41c57a9fb6ad318e36ed50a3f2e246ece139ff42 840 1350
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1446745680
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1447420552
committer-tz -0500
summary Continue update unit tests with new Nexus output
previous 5adaa559b23478ebce7d9f27abf91da0a78ba808 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                with excutils.save_and_reraise_exception():
41c57a9fb6ad318e36ed50a3f2e246ece139ff42 841 1351
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1446745680
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1447420552
committer-tz -0500
summary Continue update unit tests with new Nexus output
previous 5adaa559b23478ebce7d9f27abf91da0a78ba808 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    LOG.error(_LE("Error encountered restoring vxlans "
41c57a9fb6ad318e36ed50a3f2e246ece139ff42 842 1352
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1446745680
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1447420552
committer-tz -0500
summary Continue update unit tests with new Nexus output
previous 5adaa559b23478ebce7d9f27abf91da0a78ba808 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        "for switch %(switch_ip)s"),
41c57a9fb6ad318e36ed50a3f2e246ece139ff42 843 1353
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1446745680
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1447420552
committer-tz -0500
summary Continue update unit tests with new Nexus output
previous 5adaa559b23478ebce7d9f27abf91da0a78ba808 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        {'switch_ip': switch_ip})
41c57a9fb6ad318e36ed50a3f2e246ece139ff42 844 1354
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1446745680
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1447420552
committer-tz -0500
summary Continue update unit tests with new Nexus output
previous 5adaa559b23478ebce7d9f27abf91da0a78ba808 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    self._save_switch_vxlan_range(switch_ip, [])
6df65927938b27e014042e4bebb3381a02ec19b5 812 1355 10
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 813 1356
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # if no more vlans to restore, we're done. go active.
6df65927938b27e014042e4bebb3381a02ec19b5 814 1357
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if (not self._get_switch_vlan_range(switch_ip) and
6df65927938b27e014042e4bebb3381a02ec19b5 815 1358
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            not self._get_switch_vxlan_range(switch_ip)):
6df65927938b27e014042e4bebb3381a02ec19b5 816 1359
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            self.set_switch_ip_and_active_state(
6df65927938b27e014042e4bebb3381a02ec19b5 817 1360
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                switch_ip, const.SWITCH_ACTIVE)
6df65927938b27e014042e4bebb3381a02ec19b5 818 1361
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            LOG.info(_LI("Restore of Nexus switch "
6df65927938b27e014042e4bebb3381a02ec19b5 819 1362
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                "ip %(switch_ip)s is complete"),
6df65927938b27e014042e4bebb3381a02ec19b5 820 1363
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                {'switch_ip': switch_ip})
6df65927938b27e014042e4bebb3381a02ec19b5 821 1364
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        else:
41c57a9fb6ad318e36ed50a3f2e246ece139ff42 855 1365 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1446745680
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1447420552
committer-tz -0500
summary Continue update unit tests with new Nexus output
previous 5adaa559b23478ebce7d9f27abf91da0a78ba808 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            LOG.debug(("Restored batch of VLANS on "
6df65927938b27e014042e4bebb3381a02ec19b5 823 1366 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                "Nexus switch ip %(switch_ip)s"),
41c57a9fb6ad318e36ed50a3f2e246ece139ff42 857 1367 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1446745680
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1447420552
committer-tz -0500
summary Continue update unit tests with new Nexus output
previous 5adaa559b23478ebce7d9f27abf91da0a78ba808 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                {'switch_ip': switch_ip})
65491efbd9ea0843c00cb50ff4c89211862924de 489 1368 15
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 490 1369
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def configure_switch_entries(self, switch_ip, port_bindings):
65491efbd9ea0843c00cb50ff4c89211862924de 491 1370
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Create a nexus switch entry in Nexus.
65491efbd9ea0843c00cb50ff4c89211862924de 492 1371
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 493 1372
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        The port_bindings is sorted by vlan_id, vni, port_id.
65491efbd9ea0843c00cb50ff4c89211862924de 494 1373
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        When there is a change in vlan_id or vni, then vlan
65491efbd9ea0843c00cb50ff4c89211862924de 495 1374
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        data is configured in Nexus device.
65491efbd9ea0843c00cb50ff4c89211862924de 496 1375
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        Otherwise we check if there is a change in port_id
65491efbd9ea0843c00cb50ff4c89211862924de 497 1376
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        where we configure the port with vlan trunk config.
65491efbd9ea0843c00cb50ff4c89211862924de 498 1377
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 499 1378
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        Called during switch replay event.
65491efbd9ea0843c00cb50ff4c89211862924de 500 1379
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """
65491efbd9ea0843c00cb50ff4c89211862924de 501 1380
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        prev_vlan = -1
65491efbd9ea0843c00cb50ff4c89211862924de 502 1381
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        prev_vni = -1
65491efbd9ea0843c00cb50ff4c89211862924de 503 1382
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        prev_port = None
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1402 1383 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        prev_is_native = False
6df65927938b27e014042e4bebb3381a02ec19b5 840 1384 12
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        starttime = time.time()
6df65927938b27e014042e4bebb3381a02ec19b5 841 1385
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 842 1386
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        port_bindings.sort(key=lambda x: (x.port_id, x.vlan_id, x.vni))
6df65927938b27e014042e4bebb3381a02ec19b5 843 1387
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        self.driver.capture_and_print_timeshot(starttime, "replay_t2_aft_sort",
6df65927938b27e014042e4bebb3381a02ec19b5 844 1388
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                               switch=switch_ip)
6df65927938b27e014042e4bebb3381a02ec19b5 845 1389
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 846 1390
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # Let's make these lists a set to exclude duplicates
6df65927938b27e014042e4bebb3381a02ec19b5 847 1391
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        vlans = set()
6df65927938b27e014042e4bebb3381a02ec19b5 848 1392
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        pvlans = set()
6df65927938b27e014042e4bebb3381a02ec19b5 849 1393
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        interface_count = 0
6df65927938b27e014042e4bebb3381a02ec19b5 850 1394
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        duplicate_port = 0
6df65927938b27e014042e4bebb3381a02ec19b5 851 1395
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        vlan_count = 0
65491efbd9ea0843c00cb50ff4c89211862924de 505 1396 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        for port in port_bindings:
f1f13eedf62a7af4c1d3b132376e08551d5578b6 1394 1397 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if nxos_db.is_reserved_binding(port):
6df65927938b27e014042e4bebb3381a02ec19b5 854 1398 3
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                continue
6df65927938b27e014042e4bebb3381a02ec19b5 855 1399
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            vlan_name, auto_create, auto_trunk = self._gather_config_parms(
6df65927938b27e014042e4bebb3381a02ec19b5 856 1400
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                port.is_provider_vlan, port.vlan_id)
65491efbd9ea0843c00cb50ff4c89211862924de 512 1401 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if port.port_id == prev_port:
6df65927938b27e014042e4bebb3381a02ec19b5 858 1402 4
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                if port.vlan_id == prev_vlan and port.vni == prev_vni:
6df65927938b27e014042e4bebb3381a02ec19b5 859 1403
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    # Same port/Same Vlan - skip duplicate
6df65927938b27e014042e4bebb3381a02ec19b5 860 1404
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    duplicate_port += 1
6df65927938b27e014042e4bebb3381a02ec19b5 861 1405
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    continue
65491efbd9ea0843c00cb50ff4c89211862924de 514 1406 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                else:
6df65927938b27e014042e4bebb3381a02ec19b5 863 1407 16
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    # Same port/different Vlan - track it
6df65927938b27e014042e4bebb3381a02ec19b5 864 1408
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    vlan_count += 1
6df65927938b27e014042e4bebb3381a02ec19b5 865 1409
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    if auto_create:
6df65927938b27e014042e4bebb3381a02ec19b5 866 1410
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        vlans.add((port.vlan_id, port.vni, vlan_name))
6df65927938b27e014042e4bebb3381a02ec19b5 867 1411
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    if auto_trunk:
6df65927938b27e014042e4bebb3381a02ec19b5 868 1412
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        pvlans.add(port.vlan_id)
6df65927938b27e014042e4bebb3381a02ec19b5 869 1413
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            else:
6df65927938b27e014042e4bebb3381a02ec19b5 870 1414
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                # Different port - write out interface trunk on previous port
6df65927938b27e014042e4bebb3381a02ec19b5 871 1415
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                if prev_port:
6df65927938b27e014042e4bebb3381a02ec19b5 872 1416
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    interface_count += 1
6df65927938b27e014042e4bebb3381a02ec19b5 873 1417
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    LOG.debug("Switch %s port %s replay summary: unique vlan "
6df65927938b27e014042e4bebb3381a02ec19b5 874 1418
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                              "count %d, duplicate port entries %d",
6df65927938b27e014042e4bebb3381a02ec19b5 875 1419
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                              switch_ip, prev_port, vlan_count, duplicate_port)
6df65927938b27e014042e4bebb3381a02ec19b5 876 1420
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                duplicate_port = 0
6df65927938b27e014042e4bebb3381a02ec19b5 877 1421
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                vlan_count = 0
6df65927938b27e014042e4bebb3381a02ec19b5 878 1422
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                if pvlans:
41c57a9fb6ad318e36ed50a3f2e246ece139ff42 912 1423 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1446745680
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1447420552
committer-tz -0500
summary Continue update unit tests with new Nexus output
previous 5adaa559b23478ebce7d9f27abf91da0a78ba808 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    self._restore_port_binding(
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1443 1424 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        switch_ip, pvlans, prev_port, prev_is_native)
6df65927938b27e014042e4bebb3381a02ec19b5 881 1425 6
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    pvlans.clear()
6df65927938b27e014042e4bebb3381a02ec19b5 882 1426
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                # Start tracking new port
6df65927938b27e014042e4bebb3381a02ec19b5 883 1427
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                if auto_create:
6df65927938b27e014042e4bebb3381a02ec19b5 884 1428
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    vlans.add((port.vlan_id, port.vni, vlan_name))
6df65927938b27e014042e4bebb3381a02ec19b5 885 1429
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                if auto_trunk:
6df65927938b27e014042e4bebb3381a02ec19b5 886 1430
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    pvlans.add(port.vlan_id)
65491efbd9ea0843c00cb50ff4c89211862924de 537 1431 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                prev_port = port.port_id
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1451 1432 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                prev_is_native = port.is_native
65491efbd9ea0843c00cb50ff4c89211862924de 538 1433 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 889 1434 4
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if pvlans:
6df65927938b27e014042e4bebb3381a02ec19b5 890 1435
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            LOG.debug("Switch %s port %s replay summary: unique vlan "
6df65927938b27e014042e4bebb3381a02ec19b5 891 1436
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                      "count %d, duplicate port entries %d",
6df65927938b27e014042e4bebb3381a02ec19b5 892 1437
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                      switch_ip, port.port_id, vlan_count, duplicate_port)
41c57a9fb6ad318e36ed50a3f2e246ece139ff42 926 1438 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1446745680
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1447420552
committer-tz -0500
summary Continue update unit tests with new Nexus output
previous 5adaa559b23478ebce7d9f27abf91da0a78ba808 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            self._restore_port_binding(
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1458 1439 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                switch_ip, pvlans, prev_port, prev_is_native)
6df65927938b27e014042e4bebb3381a02ec19b5 895 1440 21
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 896 1441
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        LOG.debug("Replayed total %d ports for Switch %s",
6df65927938b27e014042e4bebb3381a02ec19b5 897 1442
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                  interface_count + 1, switch_ip)
6df65927938b27e014042e4bebb3381a02ec19b5 898 1443
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 899 1444
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        self.driver.capture_and_print_timeshot(starttime, "replay_part_1",
6df65927938b27e014042e4bebb3381a02ec19b5 900 1445
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                               switch=switch_ip)
6df65927938b27e014042e4bebb3381a02ec19b5 901 1446
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        vlans = list(vlans)
6df65927938b27e014042e4bebb3381a02ec19b5 902 1447
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if vlans:
6df65927938b27e014042e4bebb3381a02ec19b5 903 1448
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            vlans.sort()
6df65927938b27e014042e4bebb3381a02ec19b5 904 1449
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            vlan, vni, vlan_name = vlans[0]
6df65927938b27e014042e4bebb3381a02ec19b5 905 1450
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if vni == 0:
6df65927938b27e014042e4bebb3381a02ec19b5 906 1451
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                self._save_switch_vlan_range(switch_ip, vlans)
6df65927938b27e014042e4bebb3381a02ec19b5 907 1452
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            else:
6df65927938b27e014042e4bebb3381a02ec19b5 908 1453
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                self._save_switch_vxlan_range(switch_ip, vlans)
6df65927938b27e014042e4bebb3381a02ec19b5 909 1454
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6df65927938b27e014042e4bebb3381a02ec19b5 910 1455
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        self.set_switch_ip_and_active_state(
6df65927938b27e014042e4bebb3381a02ec19b5 911 1456
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            switch_ip, const.SWITCH_RESTORE_S2)
6df65927938b27e014042e4bebb3381a02ec19b5 912 1457
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        self.configure_next_batch_of_vlans(switch_ip)
6df65927938b27e014042e4bebb3381a02ec19b5 913 1458
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        self.driver.capture_and_print_timeshot(starttime, "replay_part_2",
6df65927938b27e014042e4bebb3381a02ec19b5 914 1459
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                               switch=switch_ip)
6df65927938b27e014042e4bebb3381a02ec19b5 915 1460
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1445452417
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1446747571
committer-tz -0500
summary Nexus Driver replay scaling improvements
previous 14ef4d488def5e82e76785a58b7c6fc0de3521f9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1480 1461 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _delete_nxos_db(self, unused, vlan_id, device_id, host_id, vni,
65491efbd9ea0843c00cb50ff4c89211862924de 540 1462 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        is_provider_vlan):
05713dd328e060f6d9ef2da383171eb6007e94f2 113 1463 3
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Delete the nexus database entry.
05713dd328e060f6d9ef2da383171eb6007e94f2 114 1464
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
05713dd328e060f6d9ef2da383171eb6007e94f2 115 1465
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        Called during delete precommit port event.
05713dd328e060f6d9ef2da383171eb6007e94f2 117 1466 2
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """
05713dd328e060f6d9ef2da383171eb6007e94f2 118 1467
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        try:
b580a6b5566d5e22eef2fe8c0f89af3c4f731ffc 127 1468 2
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1395948848
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1396016040
committer-tz -0400
summary ML2 Cisco Nexus MD: Support portchannel interfaces
previous 80c171bc4efb07ed2044558802b2c9b77a4cd6c4 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            rows = nxos_db.get_nexusvm_bindings(vlan_id, device_id)
b580a6b5566d5e22eef2fe8c0f89af3c4f731ffc 128 1469
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1395948848
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1396016040
committer-tz -0400
summary ML2 Cisco Nexus MD: Support portchannel interfaces
previous 80c171bc4efb07ed2044558802b2c9b77a4cd6c4 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            for row in rows:
65491efbd9ea0843c00cb50ff4c89211862924de 548 1470 3
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                nxos_db.remove_nexusport_binding(row.port_id, row.vlan_id,
65491efbd9ea0843c00cb50ff4c89211862924de 549 1471
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                    row.vni, row.switch_ip, row.instance_id,
65491efbd9ea0843c00cb50ff4c89211862924de 550 1472
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                    row.is_provider_vlan)
05713dd328e060f6d9ef2da383171eb6007e94f2 122 1473 3
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        except excep.NexusPortBindingNotFound:
05713dd328e060f6d9ef2da383171eb6007e94f2 123 1474
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return
05713dd328e060f6d9ef2da383171eb6007e94f2 124 1475
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1495 1476 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _delete_switch_entry(self, port, vlan_id, device_id, host_id, vni,
65491efbd9ea0843c00cb50ff4c89211862924de 555 1477 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                             is_provider_vlan):
05713dd328e060f6d9ef2da383171eb6007e94f2 126 1478 5
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Delete the nexus switch entry.
05713dd328e060f6d9ef2da383171eb6007e94f2 127 1479
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
05713dd328e060f6d9ef2da383171eb6007e94f2 128 1480
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        By accessing the current db entries determine if switch
05713dd328e060f6d9ef2da383171eb6007e94f2 129 1481
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        configuration can be removed.
05713dd328e060f6d9ef2da383171eb6007e94f2 130 1482
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 561 1483 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        Called during delete postcommit port event.
05713dd328e060f6d9ef2da383171eb6007e94f2 133 1484 1
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1504 1485 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        connections = self._get_active_port_connections(port, host_id)
3f012a657414f9a8016ff685147f39463ac17023 151 1486 5
author Britt Houser
author-mail <bhouser@cisco.com>
author-time 1407527151
author-tz -0400
committer Britt Houser
committer-mail <bhouser@cisco.com>
committer-time 1408300409
committer-tz -0400
summary Change nexus_dict to accept port lists
previous 672a4518902786b0606f7e4977bad47b011f9af2 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
3f012a657414f9a8016ff685147f39463ac17023 152 1487
author Britt Houser
author-mail <bhouser@cisco.com>
author-time 1407527151
author-tz -0400
committer Britt Houser
committer-mail <bhouser@cisco.com>
committer-time 1408300409
committer-tz -0400
summary Change nexus_dict to accept port lists
previous 672a4518902786b0606f7e4977bad47b011f9af2 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # (nexus_port,switch_ip) will be unique in each iteration.
3f012a657414f9a8016ff685147f39463ac17023 153 1488
author Britt Houser
author-mail <bhouser@cisco.com>
author-time 1407527151
author-tz -0400
committer Britt Houser
committer-mail <bhouser@cisco.com>
committer-time 1408300409
committer-tz -0400
summary Change nexus_dict to accept port lists
previous 672a4518902786b0606f7e4977bad47b011f9af2 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # But switch_ip will repeat if host has >1 connection to same switch.
3f012a657414f9a8016ff685147f39463ac17023 154 1489
author Britt Houser
author-mail <bhouser@cisco.com>
author-time 1407527151
author-tz -0400
committer Britt Houser
committer-mail <bhouser@cisco.com>
committer-time 1408300409
committer-tz -0400
summary Change nexus_dict to accept port lists
previous 672a4518902786b0606f7e4977bad47b011f9af2 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # So track which switch_ips already have vlan removed in this loop.
3f012a657414f9a8016ff685147f39463ac17023 155 1490
author Britt Houser
author-mail <bhouser@cisco.com>
author-time 1407527151
author-tz -0400
committer Britt Houser
committer-mail <bhouser@cisco.com>
committer-time 1408300409
committer-tz -0400
summary Change nexus_dict to accept port lists
previous 672a4518902786b0606f7e4977bad47b011f9af2 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        vlan_already_removed = []
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1510 1491 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        for switch_ip, intf_type, nexus_port, is_native in connections:
3f012a657414f9a8016ff685147f39463ac17023 157 1492 1
author Britt Houser
author-mail <bhouser@cisco.com>
author-time 1407527151
author-tz -0400
committer Britt Houser
committer-mail <bhouser@cisco.com>
committer-time 1408300409
committer-tz -0400
summary Change nexus_dict to accept port lists
previous 672a4518902786b0606f7e4977bad47b011f9af2 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
b580a6b5566d5e22eef2fe8c0f89af3c4f731ffc 144 1493 2
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1395948848
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1396016040
committer-tz -0400
summary ML2 Cisco Nexus MD: Support portchannel interfaces
previous 80c171bc4efb07ed2044558802b2c9b77a4cd6c4 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            # if there are no remaining db entries using this vlan on this
b580a6b5566d5e22eef2fe8c0f89af3c4f731ffc 145 1494
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1395948848
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1396016040
committer-tz -0400
summary ML2 Cisco Nexus MD: Support portchannel interfaces
previous 80c171bc4efb07ed2044558802b2c9b77a4cd6c4 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            # nexus switch port then remove vlan from the switchport trunk.
f1f13eedf62a7af4c1d3b132376e08551d5578b6 1492 1495 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            port_id = self.format_interface_name(intf_type, nexus_port)
65491efbd9ea0843c00cb50ff4c89211862924de 578 1496 6
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            auto_create = True
65491efbd9ea0843c00cb50ff4c89211862924de 579 1497
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            auto_trunk = True
65491efbd9ea0843c00cb50ff4c89211862924de 580 1498
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if is_provider_vlan:
65491efbd9ea0843c00cb50ff4c89211862924de 581 1499
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                auto_create = cfg.CONF.ml2_cisco.provider_vlan_auto_create
65491efbd9ea0843c00cb50ff4c89211862924de 582 1500
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                auto_trunk = cfg.CONF.ml2_cisco.provider_vlan_auto_trunk
65491efbd9ea0843c00cb50ff4c89211862924de 583 1501
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
05713dd328e060f6d9ef2da383171eb6007e94f2 138 1502 1
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            try:
b580a6b5566d5e22eef2fe8c0f89af3c4f731ffc 148 1503 2
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1395948848
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1396016040
committer-tz -0400
summary ML2 Cisco Nexus MD: Support portchannel interfaces
previous 80c171bc4efb07ed2044558802b2c9b77a4cd6c4 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                nxos_db.get_port_vlan_switch_binding(port_id, vlan_id,
b580a6b5566d5e22eef2fe8c0f89af3c4f731ffc 149 1504
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1395948848
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1396016040
committer-tz -0400
summary ML2 Cisco Nexus MD: Support portchannel interfaces
previous 80c171bc4efb07ed2044558802b2c9b77a4cd6c4 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                                     switch_ip)
05713dd328e060f6d9ef2da383171eb6007e94f2 140 1505 1
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            except excep.NexusPortBindingNotFound:
65491efbd9ea0843c00cb50ff4c89211862924de 588 1506 5
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                pass
65491efbd9ea0843c00cb50ff4c89211862924de 589 1507
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            else:
65491efbd9ea0843c00cb50ff4c89211862924de 590 1508
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                continue
65491efbd9ea0843c00cb50ff4c89211862924de 591 1509
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 592 1510
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if auto_trunk:
6b86a859db5fcf931df263b01e3bf1bd68f0797f 566 1511 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1441206642
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1441206671
committer-tz -0400
summary Bubble up exceptions when Nexus replay enabled
previous 46d364dc9f3b24e654939f822ea048e3cbf227c6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                self.driver.disable_vlan_on_trunk_int(
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1531 1512 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    switch_ip, vlan_id, intf_type, nexus_port,
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1532 1513
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    is_native)
05713dd328e060f6d9ef2da383171eb6007e94f2 142 1514 3
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
05713dd328e060f6d9ef2da383171eb6007e94f2 143 1515
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            # if there are no remaining db entries using this vlan on this
05713dd328e060f6d9ef2da383171eb6007e94f2 144 1516
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            # nexus switch then remove the vlan.
65491efbd9ea0843c00cb50ff4c89211862924de 606 1517 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if auto_create:
05713dd328e060f6d9ef2da383171eb6007e94f2 145 1518 3
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                try:
05713dd328e060f6d9ef2da383171eb6007e94f2 146 1519
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    nxos_db.get_nexusvlan_binding(vlan_id, switch_ip)
05713dd328e060f6d9ef2da383171eb6007e94f2 147 1520
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                except excep.NexusPortBindingNotFound:
3f012a657414f9a8016ff685147f39463ac17023 174 1521 2
author Britt Houser
author-mail <bhouser@cisco.com>
author-time 1407527151
author-tz -0400
committer Britt Houser
committer-mail <bhouser@cisco.com>
committer-time 1408300409
committer-tz -0400
summary Change nexus_dict to accept port lists
previous 672a4518902786b0606f7e4977bad47b011f9af2 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    # Do not perform a second time on same switch
3f012a657414f9a8016ff685147f39463ac17023 175 1522
author Britt Houser
author-mail <bhouser@cisco.com>
author-time 1407527151
author-tz -0400
committer Britt Houser
committer-mail <bhouser@cisco.com>
committer-time 1408300409
committer-tz -0400
summary Change nexus_dict to accept port lists
previous 672a4518902786b0606f7e4977bad47b011f9af2 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    if switch_ip not in vlan_already_removed:
05713dd328e060f6d9ef2da383171eb6007e94f2 148 1523 1
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        self.driver.delete_vlan(switch_ip, vlan_id)
3f012a657414f9a8016ff685147f39463ac17023 177 1524 1
author Britt Houser
author-mail <bhouser@cisco.com>
author-time 1407527151
author-tz -0400
committer Britt Houser
committer-mail <bhouser@cisco.com>
committer-time 1408300409
committer-tz -0400
summary Change nexus_dict to accept port lists
previous 672a4518902786b0606f7e4977bad47b011f9af2 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        vlan_already_removed.append(switch_ip)
05713dd328e060f6d9ef2da383171eb6007e94f2 149 1525 1
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 621 1526 2
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _is_segment_nexus_vxlan(self, segment):
65491efbd9ea0843c00cb50ff4c89211862924de 622 1527
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        return segment[api.NETWORK_TYPE] == const.TYPE_NEXUS_VXLAN
f145f3e4041b855ac6c96ff4ca4db4089229f278 149 1528 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1394141187
author-tz -0500
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1394141187
committer-tz -0500
summary ML2 Cisco Nexus MD: VM migration support
previous 665e489be522c3655b8c4d1a079ebd63851b4545 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 624 1529 14
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _get_segments(self, top_segment, bottom_segment):
65491efbd9ea0843c00cb50ff4c89211862924de 625 1530
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # Return vlan segment and vxlan segment (if configured).
65491efbd9ea0843c00cb50ff4c89211862924de 626 1531
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if top_segment is None:
65491efbd9ea0843c00cb50ff4c89211862924de 627 1532
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return None, None
65491efbd9ea0843c00cb50ff4c89211862924de 628 1533
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        elif self._is_segment_nexus_vxlan(top_segment):
65491efbd9ea0843c00cb50ff4c89211862924de 629 1534
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return bottom_segment, top_segment
65491efbd9ea0843c00cb50ff4c89211862924de 630 1535
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        else:
65491efbd9ea0843c00cb50ff4c89211862924de 631 1536
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return top_segment, None
65491efbd9ea0843c00cb50ff4c89211862924de 632 1537
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 633 1538
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _is_vm_migrating(self, context, vlan_segment, orig_vlan_segment):
65491efbd9ea0843c00cb50ff4c89211862924de 634 1539
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if not vlan_segment and orig_vlan_segment:
65491efbd9ea0843c00cb50ff4c89211862924de 635 1540
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return (context.current.get(portbindings.HOST_ID) !=
65491efbd9ea0843c00cb50ff4c89211862924de 636 1541
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    context.original.get(portbindings.HOST_ID))
65491efbd9ea0843c00cb50ff4c89211862924de 637 1542
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
4a64cb948f1901ef27ab6c2541cf307847ba92dd 628 1543 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1427741258
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1427914494
committer-tz -0400
summary ML2 Cisco Nexus MD: Don't process non-VLAN types
previous 65491efbd9ea0843c00cb50ff4c89211862924de networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _log_missing_segment(self):
1b9a4558b9803ae777fcb0353993f5eb3de0bf06 1564 1544 1
author Yatin Kumbhare
author-mail <yatinkumbhare@gmail.com>
author-time 1451976490
author-tz +0530
committer Sam Betts
committer-mail <sam@code-smash.net>
committer-time 1455273996
committer-tz +0000
summary LOG.warn -> LOG.warning
previous f3fa6b8744b6def33ff85ef1a210c893891aaea6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        LOG.warning(_LW("Nexus: Segment is None, Event not processed."))
65491efbd9ea0843c00cb50ff4c89211862924de 640 1545 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
4a64cb948f1901ef27ab6c2541cf307847ba92dd 631 1546 5
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1427741258
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1427914494
committer-tz -0400
summary ML2 Cisco Nexus MD: Don't process non-VLAN types
previous 65491efbd9ea0843c00cb50ff4c89211862924de networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _is_valid_segment(self, segment):
4a64cb948f1901ef27ab6c2541cf307847ba92dd 632 1547
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1427741258
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1427914494
committer-tz -0400
summary ML2 Cisco Nexus MD: Don't process non-VLAN types
previous 65491efbd9ea0843c00cb50ff4c89211862924de networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        valid_segment = True
4a64cb948f1901ef27ab6c2541cf307847ba92dd 633 1548
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1427741258
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1427914494
committer-tz -0400
summary ML2 Cisco Nexus MD: Don't process non-VLAN types
previous 65491efbd9ea0843c00cb50ff4c89211862924de networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if segment:
4a64cb948f1901ef27ab6c2541cf307847ba92dd 634 1549
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1427741258
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1427914494
committer-tz -0400
summary ML2 Cisco Nexus MD: Don't process non-VLAN types
previous 65491efbd9ea0843c00cb50ff4c89211862924de networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if (segment[api.NETWORK_TYPE] != p_const.TYPE_VLAN or
4a64cb948f1901ef27ab6c2541cf307847ba92dd 635 1550
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1427741258
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1427914494
committer-tz -0400
summary ML2 Cisco Nexus MD: Don't process non-VLAN types
previous 65491efbd9ea0843c00cb50ff4c89211862924de networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                not self._valid_network_segment(segment)):
1b9a4558b9803ae777fcb0353993f5eb3de0bf06 1571 1551 1
author Yatin Kumbhare
author-mail <yatinkumbhare@gmail.com>
author-time 1451976490
author-tz +0530
committer Sam Betts
committer-mail <sam@code-smash.net>
committer-time 1455273996
committer-tz +0000
summary LOG.warn -> LOG.warning
previous f3fa6b8744b6def33ff85ef1a210c893891aaea6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                LOG.warning(_LW("Nexus: Segment is an invalid type or not "
4a64cb948f1901ef27ab6c2541cf307847ba92dd 637 1552 12
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1427741258
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1427914494
committer-tz -0400
summary ML2 Cisco Nexus MD: Don't process non-VLAN types
previous 65491efbd9ea0843c00cb50ff4c89211862924de networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                "supported by this driver. Network type = "
4a64cb948f1901ef27ab6c2541cf307847ba92dd 638 1553
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1427741258
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1427914494
committer-tz -0400
summary ML2 Cisco Nexus MD: Don't process non-VLAN types
previous 65491efbd9ea0843c00cb50ff4c89211862924de networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                "%(network_type)s Physical network = "
4a64cb948f1901ef27ab6c2541cf307847ba92dd 639 1554
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1427741258
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1427914494
committer-tz -0400
summary ML2 Cisco Nexus MD: Don't process non-VLAN types
previous 65491efbd9ea0843c00cb50ff4c89211862924de networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                "%(phy_network)s. Event not processed."),
4a64cb948f1901ef27ab6c2541cf307847ba92dd 640 1555
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1427741258
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1427914494
committer-tz -0400
summary ML2 Cisco Nexus MD: Don't process non-VLAN types
previous 65491efbd9ea0843c00cb50ff4c89211862924de networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                            {'network_type': segment[api.NETWORK_TYPE],
4a64cb948f1901ef27ab6c2541cf307847ba92dd 641 1556
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1427741258
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1427914494
committer-tz -0400
summary ML2 Cisco Nexus MD: Don't process non-VLAN types
previous 65491efbd9ea0843c00cb50ff4c89211862924de networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                             'phy_network': segment[api.PHYSICAL_NETWORK]})
4a64cb948f1901ef27ab6c2541cf307847ba92dd 642 1557
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1427741258
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1427914494
committer-tz -0400
summary ML2 Cisco Nexus MD: Don't process non-VLAN types
previous 65491efbd9ea0843c00cb50ff4c89211862924de networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                valid_segment = False
4a64cb948f1901ef27ab6c2541cf307847ba92dd 643 1558
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1427741258
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1427914494
committer-tz -0400
summary ML2 Cisco Nexus MD: Don't process non-VLAN types
previous 65491efbd9ea0843c00cb50ff4c89211862924de networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        else:
4a64cb948f1901ef27ab6c2541cf307847ba92dd 644 1559
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1427741258
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1427914494
committer-tz -0400
summary ML2 Cisco Nexus MD: Don't process non-VLAN types
previous 65491efbd9ea0843c00cb50ff4c89211862924de networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            self._log_missing_segment()
4a64cb948f1901ef27ab6c2541cf307847ba92dd 645 1560
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1427741258
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1427914494
committer-tz -0400
summary ML2 Cisco Nexus MD: Don't process non-VLAN types
previous 65491efbd9ea0843c00cb50ff4c89211862924de networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            valid_segment = False
4a64cb948f1901ef27ab6c2541cf307847ba92dd 646 1561
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1427741258
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1427914494
committer-tz -0400
summary ML2 Cisco Nexus MD: Don't process non-VLAN types
previous 65491efbd9ea0843c00cb50ff4c89211862924de networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
4a64cb948f1901ef27ab6c2541cf307847ba92dd 647 1562
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1427741258
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1427914494
committer-tz -0400
summary ML2 Cisco Nexus MD: Don't process non-VLAN types
previous 65491efbd9ea0843c00cb50ff4c89211862924de networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        return valid_segment
4a64cb948f1901ef27ab6c2541cf307847ba92dd 648 1563
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1427741258
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1427914494
committer-tz -0400
summary ML2 Cisco Nexus MD: Don't process non-VLAN types
previous 65491efbd9ea0843c00cb50ff4c89211862924de networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 641 1564 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _port_action_vlan(self, port, segment, func, vni):
05713dd328e060f6d9ef2da383171eb6007e94f2 151 1565 1
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Verify configuration and then process event."""
65491efbd9ea0843c00cb50ff4c89211862924de 643 1566 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
4a64cb948f1901ef27ab6c2541cf307847ba92dd 652 1567 2
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1427741258
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1427914494
committer-tz -0400
summary ML2 Cisco Nexus MD: Don't process non-VLAN types
previous 65491efbd9ea0843c00cb50ff4c89211862924de networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # Verify segment.
4a64cb948f1901ef27ab6c2541cf307847ba92dd 653 1568
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1427741258
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1427914494
committer-tz -0400
summary ML2 Cisco Nexus MD: Don't process non-VLAN types
previous 65491efbd9ea0843c00cb50ff4c89211862924de networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if not self._is_valid_segment(segment):
65491efbd9ea0843c00cb50ff4c89211862924de 647 1569 2
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return
65491efbd9ea0843c00cb50ff4c89211862924de 648 1570
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
f145f3e4041b855ac6c96ff4ca4db4089229f278 152 1571 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1394141187
author-tz -0500
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1394141187
committer-tz -0500
summary ML2 Cisco Nexus MD: VM migration support
previous 665e489be522c3655b8c4d1a079ebd63851b4545 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        device_id = port.get('device_id')
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1591 1572 5
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # No host_id is another indicator this is a baremetal
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1592 1573
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # transaction
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1593 1574
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if self._is_baremetal(port):
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1594 1575
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            host_id = ''
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1595 1576
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        else:
f145f3e4041b855ac6c96ff4ca4db4089229f278 153 1577 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1394141187
author-tz -0500
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1394141187
committer-tz -0500
summary ML2 Cisco Nexus MD: VM migration support
previous 665e489be522c3655b8c4d1a079ebd63851b4545 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            host_id = port.get(portbindings.HOST_ID)
4a64cb948f1901ef27ab6c2541cf307847ba92dd 658 1578 3
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1427741258
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1427914494
committer-tz -0400
summary ML2 Cisco Nexus MD: Don't process non-VLAN types
previous 65491efbd9ea0843c00cb50ff4c89211862924de networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        vlan_id = segment.get(api.SEGMENTATION_ID)
4a64cb948f1901ef27ab6c2541cf307847ba92dd 659 1579
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1427741258
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1427914494
committer-tz -0400
summary ML2 Cisco Nexus MD: Don't process non-VLAN types
previous 65491efbd9ea0843c00cb50ff4c89211862924de networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # TODO(rpothier) Add back in provider segment support.
4a64cb948f1901ef27ab6c2541cf307847ba92dd 660 1580
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1427741258
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1427914494
committer-tz -0400
summary ML2 Cisco Nexus MD: Don't process non-VLAN types
previous 65491efbd9ea0843c00cb50ff4c89211862924de networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        is_provider = False
65491efbd9ea0843c00cb50ff4c89211862924de 652 1581 5
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        settings = {"vlan_id": vlan_id,
65491efbd9ea0843c00cb50ff4c89211862924de 653 1582
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    "device_id": device_id,
65491efbd9ea0843c00cb50ff4c89211862924de 654 1583
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    "host_id": host_id,
65491efbd9ea0843c00cb50ff4c89211862924de 655 1584
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    "is_provider": is_provider is not None}
65491efbd9ea0843c00cb50ff4c89211862924de 656 1585
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        missing_fields = [field for field, value in settings.items()
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1605 1586 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                          if (field != 'host_id' and not value)]
65491efbd9ea0843c00cb50ff4c89211862924de 658 1587 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if not missing_fields:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1607 1588 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            func(port, vlan_id, device_id, host_id, vni, is_provider)
65491efbd9ea0843c00cb50ff4c89211862924de 660 1589 3
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        else:
65491efbd9ea0843c00cb50ff4c89211862924de 661 1590
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            raise excep.NexusMissingRequiredFields(
65491efbd9ea0843c00cb50ff4c89211862924de 662 1591
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                fields=' '.join(missing_fields))
05713dd328e060f6d9ef2da383171eb6007e94f2 161 1592 1
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 664 1593 5
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _port_action_vxlan(self, port, segment, func):
65491efbd9ea0843c00cb50ff4c89211862924de 665 1594
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Verify configuration and then process event."""
65491efbd9ea0843c00cb50ff4c89211862924de 666 1595
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 667 1596
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # If the segment is None, just log a warning message and return.
65491efbd9ea0843c00cb50ff4c89211862924de 668 1597
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if segment is None:
4a64cb948f1901ef27ab6c2541cf307847ba92dd 678 1598 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1427741258
author-tz -0400
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1427914494
committer-tz -0400
summary ML2 Cisco Nexus MD: Don't process non-VLAN types
previous 65491efbd9ea0843c00cb50ff4c89211862924de networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            self._log_missing_segment()
65491efbd9ea0843c00cb50ff4c89211862924de 670 1599 10
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return
65491efbd9ea0843c00cb50ff4c89211862924de 671 1600
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 672 1601
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        device_id = port.get('device_id')
65491efbd9ea0843c00cb50ff4c89211862924de 673 1602
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        mcast_group = segment.get(api.PHYSICAL_NETWORK)
65491efbd9ea0843c00cb50ff4c89211862924de 674 1603
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        host_id = port.get(portbindings.HOST_ID)
65491efbd9ea0843c00cb50ff4c89211862924de 675 1604
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        vni = segment.get(api.SEGMENTATION_ID)
65491efbd9ea0843c00cb50ff4c89211862924de 676 1605
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 677 1606
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if vni and device_id and mcast_group and host_id:
65491efbd9ea0843c00cb50ff4c89211862924de 678 1607
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            func(vni, device_id, mcast_group, host_id)
65491efbd9ea0843c00cb50ff4c89211862924de 679 1608
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return vni
05713dd328e060f6d9ef2da383171eb6007e94f2 164 1609 1
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        else:
65491efbd9ea0843c00cb50ff4c89211862924de 681 1610 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            fields = "vni " if not vni else ""
05713dd328e060f6d9ef2da383171eb6007e94f2 166 1611 1
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            fields += "device_id " if not device_id else ""
65491efbd9ea0843c00cb50ff4c89211862924de 683 1612 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            fields += "mcast_group " if not mcast_group else ""
05713dd328e060f6d9ef2da383171eb6007e94f2 167 1613 3
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            fields += "host_id" if not host_id else ""
05713dd328e060f6d9ef2da383171eb6007e94f2 168 1614
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            raise excep.NexusMissingRequiredFields(fields=fields)
05713dd328e060f6d9ef2da383171eb6007e94f2 169 1615
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 687 1616 16
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _monitor_thread(self):
65491efbd9ea0843c00cb50ff4c89211862924de 688 1617
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Periodically restarts the monitor thread."""
65491efbd9ea0843c00cb50ff4c89211862924de 689 1618
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        with self.monitor_lock:
65491efbd9ea0843c00cb50ff4c89211862924de 690 1619
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            self.monitor.check_connections()
65491efbd9ea0843c00cb50ff4c89211862924de 691 1620
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 692 1621
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        self.timer = threading.Timer(self.monitor_timeout,
65491efbd9ea0843c00cb50ff4c89211862924de 693 1622
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                     self._monitor_thread)
65491efbd9ea0843c00cb50ff4c89211862924de 694 1623
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        self.timer.start()
65491efbd9ea0843c00cb50ff4c89211862924de 695 1624
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 696 1625
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def _stop_monitor_thread(self):
65491efbd9ea0843c00cb50ff4c89211862924de 697 1626
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Terminates the monitor thread."""
65491efbd9ea0843c00cb50ff4c89211862924de 698 1627
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if self.timer:
65491efbd9ea0843c00cb50ff4c89211862924de 699 1628
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            self.timer.cancel()
65491efbd9ea0843c00cb50ff4c89211862924de 700 1629
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            self.timer = None
65491efbd9ea0843c00cb50ff4c89211862924de 701 1630
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 702 1631
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    @lockutils.synchronized('cisco-nexus-portlock')
81a7c328276659d917c053964e8eb33408f568cc 737 1632 3
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1437661658
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1437684542
committer-tz -0400
summary Detect switch failure earlier during port create
previous 860db13a0d76bd66814ba5df56b1283d3ba9e430 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def create_port_postcommit(self, context):
81a7c328276659d917c053964e8eb33408f568cc 738 1633
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1437661658
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1437684542
committer-tz -0400
summary Detect switch failure earlier during port create
previous 860db13a0d76bd66814ba5df56b1283d3ba9e430 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Create port non-database commit event."""
81a7c328276659d917c053964e8eb33408f568cc 739 1634
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1437661658
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1437684542
committer-tz -0400
summary Detect switch failure earlier during port create
previous 860db13a0d76bd66814ba5df56b1283d3ba9e430 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
536cf6cc91d680c45fdae07e8552feb337dbf01c 1127 1635 11
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # No new events are handled until replay
536cf6cc91d680c45fdae07e8552feb337dbf01c 1128 1636
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # thread has put the switch in active state.
536cf6cc91d680c45fdae07e8552feb337dbf01c 1129 1637
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # If a switch is in active state, verify
536cf6cc91d680c45fdae07e8552feb337dbf01c 1130 1638
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # the switch is still in active state
536cf6cc91d680c45fdae07e8552feb337dbf01c 1131 1639
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # before accepting this new event.
536cf6cc91d680c45fdae07e8552feb337dbf01c 1132 1640
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        #
536cf6cc91d680c45fdae07e8552feb337dbf01c 1133 1641
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # If create_port_postcommit fails, it causes
536cf6cc91d680c45fdae07e8552feb337dbf01c 1134 1642
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # other openstack dbs to be cleared and
536cf6cc91d680c45fdae07e8552feb337dbf01c 1135 1643
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # retries for new VMs will stop.  Subnet
536cf6cc91d680c45fdae07e8552feb337dbf01c 1136 1644
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # transactions will continue to be retried.
536cf6cc91d680c45fdae07e8552feb337dbf01c 1137 1645
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
81a7c328276659d917c053964e8eb33408f568cc 740 1646 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1437661658
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1437684542
committer-tz -0400
summary Detect switch failure earlier during port create
previous 860db13a0d76bd66814ba5df56b1283d3ba9e430 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        port = context.current
81a7c328276659d917c053964e8eb33408f568cc 743 1647 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1437661658
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1437684542
committer-tz -0400
summary Detect switch failure earlier during port create
previous 860db13a0d76bd66814ba5df56b1283d3ba9e430 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if self._is_supported_deviceowner(port):
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1667 1648 6
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if self._is_baremetal(context.current):
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1668 1649
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                host_id = ''
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1669 1650
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                all_switches, active_switches = (
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1670 1651
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    self._get_baremetal_switches(context.current))
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1671 1652
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            else:
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1672 1653
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                host_id = context.current.get(portbindings.HOST_ID)
536cf6cc91d680c45fdae07e8552feb337dbf01c 1142 1654 8
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                all_switches, active_switches = (
536cf6cc91d680c45fdae07e8552feb337dbf01c 1143 1655
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    self._get_host_switches(host_id))
536cf6cc91d680c45fdae07e8552feb337dbf01c 1144 1656
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
536cf6cc91d680c45fdae07e8552feb337dbf01c 1145 1657
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            # Verify switch is still up before replay
536cf6cc91d680c45fdae07e8552feb337dbf01c 1146 1658
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            # thread checks.
536cf6cc91d680c45fdae07e8552feb337dbf01c 1147 1659
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            verified_active_switches = []
536cf6cc91d680c45fdae07e8552feb337dbf01c 1148 1660
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            for switch_ip in active_switches:
536cf6cc91d680c45fdae07e8552feb337dbf01c 1149 1661
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                try:
81a7c328276659d917c053964e8eb33408f568cc 751 1662 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1437661658
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1437684542
committer-tz -0400
summary Detect switch failure earlier during port create
previous 860db13a0d76bd66814ba5df56b1283d3ba9e430 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    self.driver.get_nexus_type(switch_ip)
536cf6cc91d680c45fdae07e8552feb337dbf01c 1151 1663 11
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    verified_active_switches.append(switch_ip)
536cf6cc91d680c45fdae07e8552feb337dbf01c 1152 1664
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                except Exception:
536cf6cc91d680c45fdae07e8552feb337dbf01c 1153 1665
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    pass
536cf6cc91d680c45fdae07e8552feb337dbf01c 1154 1666
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
536cf6cc91d680c45fdae07e8552feb337dbf01c 1155 1667
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            # if host_id is valid and there is no active
536cf6cc91d680c45fdae07e8552feb337dbf01c 1156 1668
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            # switches remaining
536cf6cc91d680c45fdae07e8552feb337dbf01c 1157 1669
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if all_switches and not verified_active_switches:
536cf6cc91d680c45fdae07e8552feb337dbf01c 1158 1670
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                raise excep.NexusConnectFailed(
536cf6cc91d680c45fdae07e8552feb337dbf01c 1159 1671
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    nexus_host=all_switches[0], config="None",
536cf6cc91d680c45fdae07e8552feb337dbf01c 1160 1672
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    exc="Create Failed: Port event can not "
536cf6cc91d680c45fdae07e8552feb337dbf01c 1161 1673
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    "be processed at this time.")
81a7c328276659d917c053964e8eb33408f568cc 752 1674 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1437661658
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1437684542
committer-tz -0400
summary Detect switch failure earlier during port create
previous 860db13a0d76bd66814ba5df56b1283d3ba9e430 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
81a7c328276659d917c053964e8eb33408f568cc 753 1675
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1437661658
author-tz -0400
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1437684542
committer-tz -0400
summary Detect switch failure earlier during port create
previous 860db13a0d76bd66814ba5df56b1283d3ba9e430 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    @lockutils.synchronized('cisco-nexus-portlock')
05713dd328e060f6d9ef2da383171eb6007e94f2 177 1676 2
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def update_port_precommit(self, context):
05713dd328e060f6d9ef2da383171eb6007e94f2 178 1677
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Update port pre-database transaction commit event."""
65491efbd9ea0843c00cb50ff4c89211862924de 705 1678 6
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        vlan_segment, vxlan_segment = self._get_segments(
65491efbd9ea0843c00cb50ff4c89211862924de 706 1679
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                        context.top_bound_segment,
65491efbd9ea0843c00cb50ff4c89211862924de 707 1680
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                        context.bottom_bound_segment)
65491efbd9ea0843c00cb50ff4c89211862924de 708 1681
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        orig_vlan_segment, orig_vxlan_segment = self._get_segments(
65491efbd9ea0843c00cb50ff4c89211862924de 709 1682
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                        context.original_top_bound_segment,
65491efbd9ea0843c00cb50ff4c89211862924de 710 1683
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                        context.original_bottom_bound_segment)
f145f3e4041b855ac6c96ff4ca4db4089229f278 179 1684 3
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1394141187
author-tz -0500
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1394141187
committer-tz -0500
summary ML2 Cisco Nexus MD: VM migration support
previous 665e489be522c3655b8c4d1a079ebd63851b4545 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
f145f3e4041b855ac6c96ff4ca4db4089229f278 180 1685
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1394141187
author-tz -0500
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1394141187
committer-tz -0500
summary ML2 Cisco Nexus MD: VM migration support
previous 665e489be522c3655b8c4d1a079ebd63851b4545 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # if VM migration is occurring then remove previous database entry
f145f3e4041b855ac6c96ff4ca4db4089229f278 181 1686
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1394141187
author-tz -0500
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1394141187
committer-tz -0500
summary ML2 Cisco Nexus MD: VM migration support
previous 665e489be522c3655b8c4d1a079ebd63851b4545 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # else process update event.
65491efbd9ea0843c00cb50ff4c89211862924de 714 1687 5
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if self._is_vm_migrating(context, vlan_segment, orig_vlan_segment):
65491efbd9ea0843c00cb50ff4c89211862924de 715 1688
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            vni = self._port_action_vxlan(context.original, orig_vxlan_segment,
65491efbd9ea0843c00cb50ff4c89211862924de 716 1689
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        self._delete_nve_db) if orig_vxlan_segment else 0
65491efbd9ea0843c00cb50ff4c89211862924de 717 1690
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            self._port_action_vlan(context.original, orig_vlan_segment,
65491efbd9ea0843c00cb50ff4c89211862924de 718 1691
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                   self._delete_nxos_db, vni)
f145f3e4041b855ac6c96ff4ca4db4089229f278 186 1692 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1394141187
author-tz -0500
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1394141187
committer-tz -0500
summary ML2 Cisco Nexus MD: VM migration support
previous 665e489be522c3655b8c4d1a079ebd63851b4545 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        else:
65491efbd9ea0843c00cb50ff4c89211862924de 720 1693 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if (self._is_supported_deviceowner(context.current) and
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1713 1694 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                self._is_status_active(context.current) and
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1714 1695
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                not self._is_baremetal(context.current)):
65491efbd9ea0843c00cb50ff4c89211862924de 722 1696 4
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                vni = self._port_action_vxlan(context.current, vxlan_segment,
65491efbd9ea0843c00cb50ff4c89211862924de 723 1697
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                            self._configure_nve_db) if vxlan_segment else 0
65491efbd9ea0843c00cb50ff4c89211862924de 724 1698
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                self._port_action_vlan(context.current, vlan_segment,
65491efbd9ea0843c00cb50ff4c89211862924de 725 1699
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                       self._configure_nxos_db, vni)
05713dd328e060f6d9ef2da383171eb6007e94f2 182 1700 1
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 727 1701 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    @lockutils.synchronized('cisco-nexus-portlock')
05713dd328e060f6d9ef2da383171eb6007e94f2 183 1702 2
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def update_port_postcommit(self, context):
05713dd328e060f6d9ef2da383171eb6007e94f2 184 1703
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Update port non-database commit event."""
65491efbd9ea0843c00cb50ff4c89211862924de 730 1704 6
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        vlan_segment, vxlan_segment = self._get_segments(
65491efbd9ea0843c00cb50ff4c89211862924de 731 1705
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                        context.top_bound_segment,
65491efbd9ea0843c00cb50ff4c89211862924de 732 1706
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                        context.bottom_bound_segment)
65491efbd9ea0843c00cb50ff4c89211862924de 733 1707
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        orig_vlan_segment, orig_vxlan_segment = self._get_segments(
65491efbd9ea0843c00cb50ff4c89211862924de 734 1708
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                        context.original_top_bound_segment,
65491efbd9ea0843c00cb50ff4c89211862924de 735 1709
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                        context.original_bottom_bound_segment)
f145f3e4041b855ac6c96ff4ca4db4089229f278 195 1710 3
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1394141187
author-tz -0500
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1394141187
committer-tz -0500
summary ML2 Cisco Nexus MD: VM migration support
previous 665e489be522c3655b8c4d1a079ebd63851b4545 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
f145f3e4041b855ac6c96ff4ca4db4089229f278 196 1711
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1394141187
author-tz -0500
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1394141187
committer-tz -0500
summary ML2 Cisco Nexus MD: VM migration support
previous 665e489be522c3655b8c4d1a079ebd63851b4545 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # if VM migration is occurring then remove previous nexus switch entry
f145f3e4041b855ac6c96ff4ca4db4089229f278 197 1712
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1394141187
author-tz -0500
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1394141187
committer-tz -0500
summary ML2 Cisco Nexus MD: VM migration support
previous 665e489be522c3655b8c4d1a079ebd63851b4545 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # else process update event.
65491efbd9ea0843c00cb50ff4c89211862924de 739 1713 5
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if self._is_vm_migrating(context, vlan_segment, orig_vlan_segment):
65491efbd9ea0843c00cb50ff4c89211862924de 740 1714
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            vni = self._port_action_vxlan(context.original, orig_vxlan_segment,
65491efbd9ea0843c00cb50ff4c89211862924de 741 1715
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        self._delete_nve_member) if orig_vxlan_segment else 0
65491efbd9ea0843c00cb50ff4c89211862924de 742 1716
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            self._port_action_vlan(context.original, orig_vlan_segment,
65491efbd9ea0843c00cb50ff4c89211862924de 743 1717
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                   self._delete_switch_entry, vni)
f145f3e4041b855ac6c96ff4ca4db4089229f278 202 1718 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1394141187
author-tz -0500
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1394141187
committer-tz -0500
summary ML2 Cisco Nexus MD: VM migration support
previous 665e489be522c3655b8c4d1a079ebd63851b4545 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        else:
65491efbd9ea0843c00cb50ff4c89211862924de 745 1719 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if (self._is_supported_deviceowner(context.current) and
f145f3e4041b855ac6c96ff4ca4db4089229f278 204 1720 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1394141187
author-tz -0500
committer Rich Curran
committer-mail <rcurran@cisco.com>
committer-time 1394141187
committer-tz -0500
summary ML2 Cisco Nexus MD: VM migration support
previous 665e489be522c3655b8c4d1a079ebd63851b4545 neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                self._is_status_active(context.current)):
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1740 1721 11
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                if self._is_baremetal(context.current):
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1741 1722
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    # Baremetal db entries are created here instead
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1742 1723
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    # of precommit since a get operation to
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1743 1724
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    # nexus device is required but blocking
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1744 1725
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    # operation should not be done in precommit.
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1745 1726
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    self._init_baremetal_trunk_interfaces(
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1746 1727
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        context.current, vlan_segment, 0)
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1747 1728
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    host_id = ''
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1748 1729
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    all_switches, active_switches = (
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1749 1730
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        self._get_baremetal_switches(context.current))
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1750 1731
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                else:
536cf6cc91d680c45fdae07e8552feb337dbf01c 1208 1732 9
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    host_id = context.current.get(portbindings.HOST_ID)
536cf6cc91d680c45fdae07e8552feb337dbf01c 1209 1733
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    all_switches, active_switches = (
536cf6cc91d680c45fdae07e8552feb337dbf01c 1210 1734
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        self._get_host_switches(host_id))
536cf6cc91d680c45fdae07e8552feb337dbf01c 1211 1735
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                # if switches not active but host_id is valid
536cf6cc91d680c45fdae07e8552feb337dbf01c 1212 1736
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                if not active_switches and all_switches:
536cf6cc91d680c45fdae07e8552feb337dbf01c 1213 1737
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    raise excep.NexusConnectFailed(
536cf6cc91d680c45fdae07e8552feb337dbf01c 1214 1738
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        nexus_host=all_switches[0], config="None",
536cf6cc91d680c45fdae07e8552feb337dbf01c 1215 1739
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        exc="Update Port Failed: Nexus Switch "
536cf6cc91d680c45fdae07e8552feb337dbf01c 1216 1740
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1447885232
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1448055000
committer-tz -0500
summary Make multi-switch host successful when 1 active
previous b7bddc9cac525999d34bd8298679654422d8a378 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        "is down or replay in progress")
65491efbd9ea0843c00cb50ff4c89211862924de 747 1741 3
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                vni = self._port_action_vxlan(context.current, vxlan_segment,
65491efbd9ea0843c00cb50ff4c89211862924de 748 1742
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                            self._configure_nve_member) if vxlan_segment else 0
65491efbd9ea0843c00cb50ff4c89211862924de 749 1743
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                self._port_action_vlan(context.current, vlan_segment,
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1763 1744 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                       self._configure_port_entries, vni)
05713dd328e060f6d9ef2da383171eb6007e94f2 188 1745 1
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 752 1746 1
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    @lockutils.synchronized('cisco-nexus-portlock')
05713dd328e060f6d9ef2da383171eb6007e94f2 189 1747 2
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def delete_port_precommit(self, context):
05713dd328e060f6d9ef2da383171eb6007e94f2 190 1748
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Delete port pre-database commit event."""
65491efbd9ea0843c00cb50ff4c89211862924de 755 1749 10
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if self._is_supported_deviceowner(context.current):
65491efbd9ea0843c00cb50ff4c89211862924de 756 1750
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            vlan_segment, vxlan_segment = self._get_segments(
65491efbd9ea0843c00cb50ff4c89211862924de 757 1751
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                                context.top_bound_segment,
65491efbd9ea0843c00cb50ff4c89211862924de 758 1752
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                                context.bottom_bound_segment)
65491efbd9ea0843c00cb50ff4c89211862924de 759 1753
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            vni = self._port_action_vxlan(context.current, vxlan_segment,
65491efbd9ea0843c00cb50ff4c89211862924de 760 1754
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                             self._delete_nve_db) if vxlan_segment else 0
65491efbd9ea0843c00cb50ff4c89211862924de 761 1755
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            self._port_action_vlan(context.current, vlan_segment,
65491efbd9ea0843c00cb50ff4c89211862924de 762 1756
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                   self._delete_nxos_db, vni)
65491efbd9ea0843c00cb50ff4c89211862924de 763 1757
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 764 1758
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    @lockutils.synchronized('cisco-nexus-portlock')
05713dd328e060f6d9ef2da383171eb6007e94f2 194 1759 2
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def delete_port_postcommit(self, context):
05713dd328e060f6d9ef2da383171eb6007e94f2 195 1760
author Henry Gessau
author-mail <gessau@cisco.com>
author-time 1391738160
author-tz -0500
committer Henry Gessau
committer-mail <gessau@cisco.com>
committer-time 1391791021
committer-tz -0500
summary Prepare for multiple cisco ML2 mech drivers
filename neutron/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        """Delete port non-database commit event."""
65491efbd9ea0843c00cb50ff4c89211862924de 767 1761 13
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if self._is_supported_deviceowner(context.current):
65491efbd9ea0843c00cb50ff4c89211862924de 768 1762
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            vlan_segment, vxlan_segment = self._get_segments(
65491efbd9ea0843c00cb50ff4c89211862924de 769 1763
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                                context.top_bound_segment,
65491efbd9ea0843c00cb50ff4c89211862924de 770 1764
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                                context.bottom_bound_segment)
65491efbd9ea0843c00cb50ff4c89211862924de 771 1765
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            vni = self._port_action_vxlan(context.current, vxlan_segment,
65491efbd9ea0843c00cb50ff4c89211862924de 772 1766
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                             self._delete_nve_member) if vxlan_segment else 0
65491efbd9ea0843c00cb50ff4c89211862924de 773 1767
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            self._port_action_vlan(context.current, vlan_segment,
65491efbd9ea0843c00cb50ff4c89211862924de 774 1768
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                   self._delete_switch_entry, vni)
65491efbd9ea0843c00cb50ff4c89211862924de 775 1769
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 776 1770
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	    def bind_port(self, context):
65491efbd9ea0843c00cb50ff4c89211862924de 777 1771
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        LOG.debug("Attempting to bind port %(port)s on network %(network)s",
65491efbd9ea0843c00cb50ff4c89211862924de 778 1772
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                  {'port': context.current['id'],
65491efbd9ea0843c00cb50ff4c89211862924de 779 1773
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                   'network': context.network.current['id']})
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1793 1774 2
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1794 1775
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        #
f1f13eedf62a7af4c1d3b132376e08551d5578b6 1773 1776 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1454618229
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454948532
committer-tz -0500
summary Nexus baremetal/Ironic code clean-up
previous 423a07eadb521cc92f9c27b2b8ba8c77a1d46b1e networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # if is VNIC_TYPE baremetal and all required config is intact,
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1796 1777 6
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        #    accept this transaction
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1797 1778
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        # otherwise check if vxlan for us
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1798 1779
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        #
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1799 1780
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        if self._supported_baremetal_transaction(context):
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1800 1781
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            return
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1801 1782
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 780 1783 5
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	        for segment in context.segments_to_bind:
65491efbd9ea0843c00cb50ff4c89211862924de 781 1784
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            if self._is_segment_nexus_vxlan(segment):
65491efbd9ea0843c00cb50ff4c89211862924de 782 1785
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 783 1786
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                # Find physical network setting for this host.
65491efbd9ea0843c00cb50ff4c89211862924de 784 1787
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                host_id = context.current.get(portbindings.HOST_ID)
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1807 1788 3
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                host_connections = self._get_port_connections(
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1808 1789
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                       context.current,
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1809 1790
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                       host_id)
65491efbd9ea0843c00cb50ff4c89211862924de 786 1791 3
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                if not host_connections:
65491efbd9ea0843c00cb50ff4c89211862924de 787 1792
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    return
65491efbd9ea0843c00cb50ff4c89211862924de 788 1793
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
6e3b3aec8a73da4129e83554ad5ac2f43d4ec775 1813 1794 1
author Carol Bouchard
author-mail <caboucha@cisco.com>
author-time 1453922613
author-tz -0500
committer Carol Bouchard
committer-mail <caboucha@cisco.com>
committer-time 1454335722
committer-tz -0500
summary Baremetal-Ironic development for Nexus ML2 driver
previous 25088fc1e98735e811e6bac8c9930d44639130b9 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                for switch_ip, attr2, attr3, attr4 in host_connections:
65491efbd9ea0843c00cb50ff4c89211862924de 790 1795 33
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    physnet = self._nexus_switches.get((switch_ip, 'physnet'))
65491efbd9ea0843c00cb50ff4c89211862924de 791 1796
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    if physnet:
65491efbd9ea0843c00cb50ff4c89211862924de 792 1797
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                        break
65491efbd9ea0843c00cb50ff4c89211862924de 793 1798
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                else:
65491efbd9ea0843c00cb50ff4c89211862924de 794 1799
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    raise excep.PhysnetNotConfigured(host_id=host_id,
65491efbd9ea0843c00cb50ff4c89211862924de 795 1800
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                             host_connections=host_connections)
65491efbd9ea0843c00cb50ff4c89211862924de 796 1801
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 797 1802
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                # Allocate dynamic vlan segment.
65491efbd9ea0843c00cb50ff4c89211862924de 798 1803
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                vlan_segment = {api.NETWORK_TYPE: p_const.TYPE_VLAN,
65491efbd9ea0843c00cb50ff4c89211862924de 799 1804
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                api.PHYSICAL_NETWORK: physnet}
65491efbd9ea0843c00cb50ff4c89211862924de 800 1805
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                context.allocate_dynamic_segment(vlan_segment)
65491efbd9ea0843c00cb50ff4c89211862924de 801 1806
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 802 1807
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                # Retrieve the dynamically allocated segment.
65491efbd9ea0843c00cb50ff4c89211862924de 803 1808
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                # Database has provider_segment dictionary key.
65491efbd9ea0843c00cb50ff4c89211862924de 804 1809
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                network_id = context.current['network_id']
65491efbd9ea0843c00cb50ff4c89211862924de 805 1810
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                dynamic_segment = ml2_db.get_dynamic_segment(
65491efbd9ea0843c00cb50ff4c89211862924de 806 1811
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                    db_api.get_session(), network_id, physnet)
65491efbd9ea0843c00cb50ff4c89211862924de 807 1812
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	
65491efbd9ea0843c00cb50ff4c89211862924de 808 1813
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                # Have other drivers bind the VLAN dynamic segment.
65491efbd9ea0843c00cb50ff4c89211862924de 809 1814
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                if dynamic_segment:
65491efbd9ea0843c00cb50ff4c89211862924de 810 1815
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    context.continue_binding(segment[api.ID],
65491efbd9ea0843c00cb50ff4c89211862924de 811 1816
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                             [dynamic_segment])
65491efbd9ea0843c00cb50ff4c89211862924de 812 1817
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                else:
65491efbd9ea0843c00cb50ff4c89211862924de 813 1818
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                    raise excep.NoDynamicSegmentAllocated(
65491efbd9ea0843c00cb50ff4c89211862924de 814 1819
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                                        network_id=network_id, physnet=physnet)
65491efbd9ea0843c00cb50ff4c89211862924de 815 1820
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	            else:
65491efbd9ea0843c00cb50ff4c89211862924de 816 1821
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                LOG.debug("No binding required for segment ID %(id)s, "
65491efbd9ea0843c00cb50ff4c89211862924de 817 1822
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                          "segment %(seg)s, phys net %(physnet)s, and "
65491efbd9ea0843c00cb50ff4c89211862924de 818 1823
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                          "network type %(nettype)s",
65491efbd9ea0843c00cb50ff4c89211862924de 819 1824
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                          {'id': segment[api.ID],
65491efbd9ea0843c00cb50ff4c89211862924de 820 1825
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                           'seg': segment[api.SEGMENTATION_ID],
65491efbd9ea0843c00cb50ff4c89211862924de 821 1826
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                           'physnet': segment[api.PHYSICAL_NETWORK],
65491efbd9ea0843c00cb50ff4c89211862924de 822 1827
author Rich Curran
author-mail <rcurran@cisco.com>
author-time 1426193499
author-tz -0400
committer rcurran
committer-mail <rcurran@cisco.com>
committer-time 1427468897
committer-tz +0000
summary ML2 cisco_nexus MD: Sync of staging/junoplus
previous 495251e5c9d6a329ebe1631b1524a98b81ee76e6 networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
filename networking_cisco/plugins/ml2/drivers/cisco/nexus/mech_cisco_nexus.py
	                           'nettype': segment[api.NETWORK_TYPE]})
